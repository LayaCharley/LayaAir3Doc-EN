
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>TiledMap · LayaAir3 Engine Documentation · LAYABOX</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-sidebar-style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-versions-select/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-solarizedlight.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-flexible-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-auto-scroll-table/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../performanceOptimization/readme.html" />
    
    
    <link rel="prev" href="../advanced/useText/readme.html" />
    

    
        <link rel="shortcut icon" href="./style/favicon-32.ico" type="image/x-icon">
    
    
        <link rel="bookmark" href="./style/favicon-32.ico" type="image/x-icon">
    
    
    
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="./style/layabox-152.png">
    
    
        
    
    
        
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" >
            
                <span>
            
                    
                    Beginners
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1.1" data-path="../../basics/readme.html">
            
                <a href="../../basics/readme.html">
            
                    
                    Features
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="../../basics/developmentEnvironment/readme.html">
            
                <a href="../../basics/developmentEnvironment/readme.html">
            
                    
                    Development Environment
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.2.1" data-path="../../basics/developmentEnvironment/download/readme.html">
            
                <a href="../../basics/developmentEnvironment/download/readme.html">
            
                    
                    Install
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2.2" data-path="../../basics/IDE/GUI/readme.html">
            
                <a href="../../basics/IDE/GUI/readme.html">
            
                    
                    GUI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="../../basics/essentialSkills/readme.html">
            
                <a href="../../basics/essentialSkills/readme.html">
            
                    
                    Essential Skills
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.3.1" data-path="../../basics/language/readme.html">
            
                <a href="../../basics/language/readme.html">
            
                    
                    Language
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3.2" data-path="../../basics/DevTools/readme.html">
            
                <a href="../../basics/DevTools/readme.html">
            
                    
                    DevTools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3.3" data-path="../../basics/LayaTree/readme.html">
            
                <a href="../../basics/LayaTree/readme.html">
            
                    
                    LayaTree
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Engine Basics
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../basics/IDE/readme.html">
            
                <a href="../../basics/IDE/readme.html">
            
                    
                    IDE Basics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../../basics/IDE/layouts/readme.html">
            
                <a href="../../basics/IDE/layouts/readme.html">
            
                    
                    layouts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="../../basics/IDE/projecFolders/readme.html">
            
                <a href="../../basics/IDE/projecFolders/readme.html">
            
                    
                    projecFolders
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.3" data-path="../../basics/IDE/projectSettings/readme.html">
            
                <a href="../../basics/IDE/projectSettings/readme.html">
            
                    
                    projectSettings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.4" data-path="../../basics/IDE/entry/readme.html">
            
                <a href="../../basics/IDE/entry/readme.html">
            
                    
                    entry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.5" data-path="../../basics/IDE/importJsLibrary/readme.html">
            
                <a href="../../basics/IDE/importJsLibrary/readme.html">
            
                    
                    import Js Library
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.6" data-path="../../basics/IDE/Hierarchy/readme.html">
            
                <a href="../../basics/IDE/Hierarchy/readme.html">
            
                    
                    Hierarchy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.7" data-path="../../basics/IDE/assets/readme.html">
            
                <a href="../../basics/IDE/assets/readme.html">
            
                    
                    assets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.8" data-path="../../basics/IDE/Inspector/readme.html">
            
                <a href="../../basics/IDE/Inspector/readme.html">
            
                    
                    Inspector
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.9" data-path="../../basics/IDE/Game/readme.html">
            
                <a href="../../basics/IDE/Game/readme.html">
            
                    
                    Game
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.10" data-path="../../basics/IDE/shortcutKeyCombinations/readme.html">
            
                <a href="../../basics/IDE/shortcutKeyCombinations/readme.html">
            
                    
                    shortcutKey Combinations
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../basics/common/readme.html">
            
                <a href="../../basics/common/readme.html">
            
                    
                    Engine General Basics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../../basics/common/terms/readme.html">
            
                <a href="../../basics/common/terms/readme.html">
            
                    
                    basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../../basics/common/Component/readme.html">
            
                <a href="../../basics/common/Component/readme.html">
            
                    
                    Component
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../../basics/common/Loader/readme.html">
            
                <a href="../../basics/common/Loader/readme.html">
            
                    
                    Loader
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="../../basics/common/Scene/readme.html">
            
                <a href="../../basics/common/Scene/readme.html">
            
                    
                    Scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5" data-path="../../basics/common/Node/readme.html">
            
                <a href="../../basics/common/Node/readme.html">
            
                    
                    Node
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.6" data-path="../../basics/common/Timer/readme.html">
            
                <a href="../../basics/common/Timer/readme.html">
            
                    
                    Timer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.7" data-path="../../basics/common/Event/readme.html">
            
                <a href="../../basics/common/Event/readme.html">
            
                    
                    Event
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.8" data-path="../../basics/common/Tween/readme.html">
            
                <a href="../../basics/common/Tween/readme.html">
            
                    
                    Tween
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.9" data-path="../../basics/common/Pool/readme.html">
            
                <a href="../../basics/common/Pool/readme.html">
            
                    
                    Pool
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.10" data-path="../../basics/common/network/readme.html">
            
                <a href="../../basics/common/network/readme.html">
            
                    
                    network
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.11" data-path="../../basics/common/adaptScreen/readme.html">
            
                <a href="../../basics/common/adaptScreen/readme.html">
            
                    
                    adaptScreen
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.12" data-path="../../basics/common/Browser/readme.html">
            
                <a href="../../basics/common/Browser/readme.html">
            
                    
                    Browser
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.13" data-path="../../basics/common/device/readme.html">
            
                <a href="../../basics/common/device/readme.html">
            
                    
                    device
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.13.1" data-path="../../basics/common/device/media/readme.html">
            
                <a href="../../basics/common/device/media/readme.html">
            
                    
                    media
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.13.2" data-path="../../basics/common/device/motion/readme.html">
            
                <a href="../../basics/common/device/motion/readme.html">
            
                    
                    motion
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2.14" data-path="../../basics/common/Stat/readme.html">
            
                <a href="../../basics/common/Stat/readme.html">
            
                    
                    Stat
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../basics/3D/readme.html">
            
                <a href="../../basics/3D/readme.html">
            
                    
                    Basic of 3D Engine
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../../basics/3D/beginner/readme.html">
            
                <a href="../../basics/3D/beginner/readme.html">
            
                    
                    beginner
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../../basics/3D/Transform/readme.html">
            
                <a href="../../basics/3D/Transform/readme.html">
            
                    
                    Transform
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Editor
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../IDE/uiEditor/readme.html">
            
                <a href="../../IDE/uiEditor/readme.html">
            
                    
                    UI Editor
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../../IDE/uiEditor/basic/readme.html">
            
                <a href="../../IDE/uiEditor/basic/readme.html">
            
                    
                    Basic Interaction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="../../IDE/uiEditor/widgets/readme.html">
            
                <a href="../../IDE/uiEditor/widgets/readme.html">
            
                    
                    widgets
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.1" data-path="../displayObject/readme.html">
            
                <a href="../displayObject/readme.html">
            
                    
                    Display Object
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.1.1" data-path="../displayObject/Sprite/readme.html">
            
                <a href="../displayObject/Sprite/readme.html">
            
                    
                    Sprite
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.1.2" data-path="../displayObject/Animation/readme.html">
            
                <a href="../displayObject/Animation/readme.html">
            
                    
                    Animation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.1.3" data-path="../displayObject/Text/readme.html">
            
                <a href="../displayObject/Text/readme.html">
            
                    
                    Text
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.1.4" data-path="../displayObject/SoundNode/readme.html">
            
                <a href="../displayObject/SoundNode/readme.html">
            
                    
                    Sound Node
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.1.5" data-path="../displayObject/VideoNode/readme.html">
            
                <a href="../displayObject/VideoNode/readme.html">
            
                    
                    Video Node
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2" data-path="../../IDE/uiEditor/uiComponent/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/readme.html">
            
                    
                    UIComponent
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.1" data-path="../../IDE/uiEditor/uiComponent/Image/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/Image/readme.html">
            
                    
                    Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.2" data-path="../../IDE/uiEditor/uiComponent/Label/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/Label/readme.html">
            
                    
                    Label
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.3" data-path="../../IDE/uiEditor/uiComponent/TextInput/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/TextInput/readme.html">
            
                    
                    TextInput
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.3.1" data-path="../../IDE/uiEditor/uiComponent/TextArea/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/TextArea/readme.html">
            
                    
                    TextArea
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.4" data-path="../../IDE/uiEditor/uiComponent/Clip/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/Clip/readme.html">
            
                    
                    Clip
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.4.1" data-path="../../IDE/uiEditor/uiComponent/FontClip/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/FontClip/readme.html">
            
                    
                    FontClip
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.5" data-path="../../IDE/uiEditor/uiComponent/Button/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/Button/readme.html">
            
                    
                    Button
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.6" data-path="../../IDE/uiEditor/uiComponent/scroll/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/scroll/readme.html">
            
                    
                    scroll
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.6.1" data-path="../../IDE/uiEditor/uiComponent/HScrollBar/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/HScrollBar/readme.html">
            
                    
                    HScrollBar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.6.2" data-path="../../IDE/uiEditor/uiComponent/VScrollBar/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/VScrollBar/readme.html">
            
                    
                    VScrollBar
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.7" data-path="../../IDE/uiEditor/uiComponent/slider/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/slider/readme.html">
            
                    
                    slider
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.7.1" data-path="../../IDE/uiEditor/uiComponent/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/readme.html">
            
                    
                    HSlider
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.7.2" data-path="../../IDE/uiEditor/uiComponent/VSlider/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/VSlider/readme.html">
            
                    
                    VSlider
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.8" data-path="../../IDE/uiEditor/uiComponent/ProgressBar/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/ProgressBar/readme.html">
            
                    
                    ProgressBar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.9" data-path="../../IDE/uiEditor/uiComponent/Box/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/Box/readme.html">
            
                    
                    Box
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.9.1" data-path="../../IDE/uiEditor/uiComponent/HBoox/readme.md">
            
                <span>
            
                    
                    HBoox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.9.2" data-path="../../IDE/uiEditor/uiComponent/VBox/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/VBox/readme.html">
            
                    
                    VBox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.9.3" data-path="../../IDE/uiEditor/uiComponent/Panel/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/Panel/readme.html">
            
                    
                    Panel
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.10" data-path="../../IDE/uiEditor/uiComponent/List/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/List/readme.html">
            
                    
                    List
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.10.1" data-path="../../IDE/uiEditor/uiComponent/Tree/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/Tree/readme.html">
            
                    
                    Tree
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.11" data-path="../../IDE/uiEditor/uiComponent/optionBox/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/optionBox/readme.html">
            
                    
                    optionBox
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.11.1" data-path="../../IDE/uiEditor/uiComponent/ComboBox/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/ComboBox/readme.html">
            
                    
                    ComboBox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.11.2" data-path="../../IDE/uiEditor/uiComponent/Radio/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/Radio/readme.html">
            
                    
                    Radio
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.11.3" data-path="../../IDE/uiEditor/uiComponent/RadioGroup/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/RadioGroup/readme.html">
            
                    
                    RadioGroup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.11.4" data-path="../../IDE/uiEditor/uiComponent/CheckBox/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/CheckBox/readme.html">
            
                    
                    CheckBox
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.12" data-path="../../IDE/uiEditor/uiComponent/navigationMenu/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/navigationMenu/readme.html">
            
                    
                    Navigation Menu
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.12.1" data-path="../../IDE/uiEditor/uiComponent/Tab/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/Tab/readme.html">
            
                    
                    Tab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.12.2" data-path="../../IDE/uiEditor/uiComponent/ViewStack/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/ViewStack/readme.html">
            
                    
                    ViewStack
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.13" data-path="../../IDE/uiEditor/uiComponent/ColorPicker/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/ColorPicker/readme.html">
            
                    
                    ColorPicker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.14" data-path="../../IDE/uiEditor/uiComponent/OpenDataContextView/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/OpenDataContextView/readme.html">
            
                    
                    OpenDataContextView
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.15" data-path="../../IDE/uiEditor/Dialog/readme.html">
            
                <a href="../../IDE/uiEditor/Dialog/readme.html">
            
                    
                    Dialog
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.3" data-path="../../IDE/uiEditor/uiComponent/skeleton/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/skeleton/readme.html">
            
                    
                    skeleton
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.3.1" data-path="../../IDE/uiEditor/uiComponent/skeleton/spine/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/skeleton/spine/readme.html">
            
                    
                    spine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.3.2" data-path="../../IDE/uiEditor/uiComponent/skeleton/sk/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/skeleton/sk/readme.html">
            
                    
                    sk
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.3" data-path="../../IDE/uiEditor/readme.html">
            
                <a href="../../IDE/uiEditor/readme.html">
            
                    
                    graphics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.4" data-path="../../IDE/uiEditor/Filter/readme.html">
            
                <a href="../../IDE/uiEditor/Filter/readme.html">
            
                    
                    Filter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.5" data-path="../../IDE/uiEditor/runtime/readme.html">
            
                <a href="../../IDE/uiEditor/runtime/readme.html">
            
                    
                    runtime
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.6" data-path="../../IDE/uiEditor/use3D/readme.html">
            
                <a href="../../IDE/uiEditor/use3D/readme.html">
            
                    
                    use3D
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.7" data-path="../../IDE/uiEditor/textureCompress/readme.html">
            
                <a href="../../IDE/uiEditor/textureCompress/readme.html">
            
                    
                    textureCompress
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.8" data-path="../../IDE/uiEditor/3DUI/readme.html">
            
                <a href="../../IDE/uiEditor/3DUI/readme.html">
            
                    
                    3D UI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../IDE/sceneEditor/readme.html">
            
                <a href="../../IDE/sceneEditor/readme.html">
            
                    
                    Scene Editor
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="../../IDE/sceneEditor/basic/readme.html">
            
                <a href="../../IDE/sceneEditor/basic/readme.html">
            
                    
                    Basic Interaction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="../../3D/Sprite3D/readme.html">
            
                <a href="../../3D/Sprite3D/readme.html">
            
                    
                    Sprite3D
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="../../3D/displayObject/readme.html">
            
                <a href="../../3D/displayObject/readme.html">
            
                    
                    Display Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4" data-path="../../3D/Camera/readme.html">
            
                <a href="../../3D/Camera/readme.html">
            
                    
                    Camera
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.5" data-path="../../3D/Light/readme.html">
            
                <a href="../../3D/Light/readme.html">
            
                    
                    Light
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.6" data-path="../../IDE/sceneEditor/environment/readme.html">
            
                <a href="../../IDE/sceneEditor/environment/readme.html">
            
                    
                    environment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.7" data-path="../../3D/useModel/readme.html">
            
                <a href="../../3D/useModel/readme.html">
            
                    
                    useModel
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../IDE/animationEditor/readme.html">
            
                <a href="../../IDE/animationEditor/readme.html">
            
                    
                    Animation Editor
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../../IDE/animationEditor/timelineGUI/readme.html">
            
                <a href="../../IDE/animationEditor/timelineGUI/readme.html">
            
                    
                    timeline GUI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.2" data-path="../../IDE/animationEditor/aniController/readme.html">
            
                <a href="../../IDE/animationEditor/aniController/readme.html">
            
                    
                    Animation Controller
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.3" data-path="../../IDE/animationEditor/aniBake/readme.html">
            
                <a href="../../IDE/animationEditor/aniBake/readme.html">
            
                    
                    Animation Bake
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../../IDE/particleEditor/readme.html">
            
                <a href="../../IDE/particleEditor/readme.html">
            
                    
                    Particle Editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../../IDE/materialEditor/readme.html">
            
                <a href="../../IDE/materialEditor/readme.html">
            
                    
                    Material Editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../../IDE/ShaderBlueprint/readme.html">
            
                <a href="../../IDE/ShaderBlueprint/readme.html">
            
                    
                    Shader Blueprint
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../../IDE/Component/readme.html">
            
                <a href="../../IDE/Component/readme.html">
            
                    
                    Component
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.7.1" data-path="../../IDE/Component/Mesh/readme.html">
            
                <a href="../../IDE/Component/Mesh/readme.html">
            
                    
                    Mesh
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.2" data-path="../../IDE/Component/Trail/readme.html">
            
                <a href="../../IDE/Component/Trail/readme.html">
            
                    
                    Trail
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.3" data-path="../../IDE/Component/PixelLine/readme.html">
            
                <a href="../../IDE/Component/PixelLine/readme.html">
            
                    
                    Pixel Line
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.4" data-path="../../IDE/Component/ReflectionProbe/readme.html">
            
                <a href="../../IDE/Component/ReflectionProbe/readme.html">
            
                    
                    Reflection Probe
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.5" data-path="../../IDE/Component/VolumetricGI/readme.html">
            
                <a href="../../IDE/Component/VolumetricGI/readme.html">
            
                    
                    Volumetric GI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.6" data-path="../../IDE/Component/StaticBatchVolume/readme.html">
            
                <a href="../../IDE/Component/StaticBatchVolume/readme.html">
            
                    
                    StaticBatchVolume
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.7" data-path="../../IDE/Component/LOD/readme.html">
            
                <a href="../../IDE/Component/LOD/readme.html">
            
                    
                    LOD Group
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../../IDE/prefab/readme.html">
            
                <a href="../../IDE/prefab/readme.html">
            
                    
                    prefab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="../../IDE/layapackage/readme.html">
            
                <a href="../../IDE/layapackage/readme.html">
            
                    
                    layapackage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.9.1" data-path="../../IDE/layapackage/plug-in/readme.html">
            
                <a href="../../IDE/layapackage/plug-in/readme.html">
            
                    
                    plug-in
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9.2" data-path="../../IDE/layapackage/pluginImport/readme.html">
            
                <a href="../../IDE/layapackage/pluginImport/readme.html">
            
                    
                    Plugin Import
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9.3" data-path="../../IDE/layapackage/Layabox/readme.html">
            
                <a href="../../IDE/layapackage/Layabox/readme.html">
            
                    
                    Official Plugins
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.9.3.1" data-path="../../IDE/layapackage/Layabox/LOD/readme.html">
            
                <a href="../../IDE/layapackage/Layabox/LOD/readme.html">
            
                    
                    LOD Reduction Plugin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    advanced
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../advanced/readme.html">
            
                <a href="../advanced/readme.html">
            
                    
                    Advanced 2D
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../advanced/useText/readme.html">
            
                <a href="../advanced/useText/readme.html">
            
                    
                    use Text
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.1.2" data-path="readme.html">
            
                <a href="readme.html">
            
                    
                    TiledMap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="../performanceOptimization/readme.html">
            
                <a href="../performanceOptimization/readme.html">
            
                    
                    performance Optimization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4" data-path="../dom/readme.html">
            
                <a href="../dom/readme.html">
            
                    
                    DOM
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../3D/advanced/readme.html">
            
                <a href="../../3D/advanced/readme.html">
            
                    
                    Advanced 3D
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../../3D/advanced/customShader/readme.html">
            
                <a href="../../3D/advanced/customShader/readme.html">
            
                    
                    Custom Shader
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../../3D/advanced/PostProcessing/readme.html">
            
                <a href="../../3D/advanced/PostProcessing/readme.html">
            
                    
                    Post Processing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../../3D/advanced/CommandBuffer/readme.html">
            
                <a href="../../3D/advanced/CommandBuffer/readme.html">
            
                    
                    Command Buffer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="../../3D/advanced/performanceOptimization/readme.html">
            
                <a href="../../3D/advanced/performanceOptimization/readme.html">
            
                    
                    performance Optimization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.5" data-path="../../3D/WebXR/readme.html">
            
                <a href="../../3D/WebXR/readme.html">
            
                    
                    WebXR
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.6" data-path="../../3D/advanced/Unity/readme.html">
            
                <a href="../../3D/advanced/Unity/readme.html">
            
                    
                    Unity Resource Plugin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Publishing
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../released/generalSetting/readme.html">
            
                <a href="../../released/generalSetting/readme.html">
            
                    
                    General Setting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../released/web/readme.html">
            
                <a href="../../released/web/readme.html">
            
                    
                    Web
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../released/miniGame/readme.html">
            
                <a href="../../released/miniGame/readme.html">
            
                    
                    miniGame
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.1" data-path="../../released/miniGame/wechat/readme.html">
            
                <a href="../../released/miniGame/wechat/readme.html">
            
                    
                    wechat
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.2" data-path="../../released/miniGame/byteDance/readme.html">
            
                <a href="../../released/miniGame/byteDance/readme.html">
            
                    
                    tiktok
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.3" data-path="../../released/miniGame/OPPO/readme.html">
            
                <a href="../../released/miniGame/OPPO/readme.html">
            
                    
                    OPPO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.4" data-path="../../released/miniGame/vivo/readme.html">
            
                <a href="../../released/miniGame/vivo/readme.html">
            
                    
                    vivo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.5" data-path="../../released/miniGame/xiaomi/readme.html">
            
                <a href="../../released/miniGame/xiaomi/readme.html">
            
                    
                    xiaomi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.6" data-path="../../released/miniGame/alipaygame/readme.html">
            
                <a href="../../released/miniGame/alipaygame/readme.html">
            
                    
                    alipaygame
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../../released/native/LayaNative_Introduction/readme.html">
            
                <a href="../../released/native/LayaNative_Introduction/readme.html">
            
                    
                    Native
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.1" data-path="../../released/native/native_index/readme.html">
            
                <a href="../../released/native/native_index/readme.html">
            
                    
                    native index
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.2" data-path="../../released/native/build_Tool/readme.html">
            
                <a href="../../released/native/build_Tool/readme.html">
            
                    
                    build Tool
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.3" data-path="../../released/native/screen_orientation/readme.html">
            
                <a href="../../released/native/screen_orientation/readme.html">
            
                    
                    screen orientation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.4" data-path="../../released/native/loading_view_new/readme.html">
            
                <a href="../../released/native/loading_view_new/readme.html">
            
                    
                    Loading View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.5" data-path="../../released/native/network/readme.html">
            
                <a href="../../released/native/network/readme.html">
            
                    
                    network
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.6" data-path="../../released/native/LocalStrorage/readme.html">
            
                <a href="../../released/native/LocalStrorage/readme.html">
            
                    
                    Local Storage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.7" data-path="../../released/native/Android_BackPress/readme.html">
            
                <a href="../../released/native/Android_BackPress/readme.html">
            
                    
                    Android BackPress
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.8" data-path="../../released/native/real_device_debugging/readme.html">
            
                <a href="../../released/native/real_device_debugging/readme.html">
            
                    
                    Debugging JS on Android
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.9" data-path="../../released/native/LayaDcc_Tool/readme.html">
            
                <a href="../../released/native/LayaDcc_Tool/readme.html">
            
                    
                    LayaDcc Tool
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.10" data-path="../../released/native/Secondary_Development/readme.html">
            
                <a href="../../released/native/Secondary_Development/readme.html">
            
                    
                    Secondary Development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.11" data-path="../../released/native/webview/readme.html">
            
                <a href="../../released/native/webview/readme.html">
            
                    
                    webview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.12" data-path="../../released/native/built_in_font/readme.html">
            
                <a href="../../released/native/built_in_font/readme.html">
            
                    
                    Fonts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.13" data-path="../../released/native/zipUpdate/readme.html">
            
                <a href="../../released/native/zipUpdate/readme.html">
            
                    
                    zip Update
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.14" data-path="../../released/native/apk_expansion/readme.html">
            
                <a href="../../released/native/apk_expansion/readme.html">
            
                    
                    APK Expansion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.15" data-path="../../released/native/build_Cmd/readme.html">
            
                <a href="../../released/native/build_Cmd/readme.html">
            
                    
                    Command
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.16" data-path="../../released/native/Other_settings/readme.html">
            
                <a href="../../released/native/Other_settings/readme.html">
            
                    
                    Other
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >TiledMap</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#use-tiledmap-map"><b></b>Use TiledMap map</a></li><ul><li><span class="title-icon "></span><a href="#1-overview"><b></b>1. Overview</a></li><li><span class="title-icon "></span><a href="#2-export-the-tiled-map-supported-by-the-engine"><b></b>2. Export the Tiled Map supported by the engine</a></li><ul><li><span class="title-icon "></span><a href="#21-download-and-install-tiled-map-editor"><b></b>2.1 Download and install Tiled Map Editor</a></li><li><span class="title-icon "></span><a href="#22-tiled-map-format-supported-by-the-export-engine"><b></b>2.2 Tiled Map format supported by the export engine</a></li></ul><li><span class="title-icon "></span><a href="#3-layaair-engine-uses-tiled-map-map"><b></b>3. LayaAir engine uses Tiled Map map</a></li><ul><li><span class="title-icon "></span><a href="#31-ide-selects-layatiledmap-component"><b></b>3.1 IDE selects laya.tiledmap component</a></li><li><span class="title-icon "></span><a href="#32-create-tiledmap-map"><b></b>3.2 Create TiledMap map</a></li><li><span class="title-icon "></span><a href="#33-control-map"><b></b>3.3 Control map</a></li><li><span class="title-icon "></span><a href="#34-drag-the-map"><b></b>3.4 Drag the map</a></li></ul><li><span class="title-icon "></span><a href="#4-tiled-map-usage-optimization"><b></b>4. Tiled Map usage optimization</a></li><ul><li><span class="title-icon "></span><a href="#41-destroy-the-map"><b></b>4.1 Destroy the map</a></li><li><span class="title-icon "></span><a href="#42-cache-related"><b></b>4.2 Cache related</a></li><li><span class="title-icon "></span><a href="#43-merge-layers"><b></b>4.3 Merge layers</a></li><li><span class="title-icon "></span><a href="#44-remove-covered-grids"><b></b>4.4 Remove covered grids</a></li></ul></ul></ul></div><a href="#use-tiledmap-map" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="use-tiledmap-map"><a name="use-tiledmap-map" class="anchor-navigation-ex-anchor" href="#use-tiledmap-map"><i class="fa fa-link" aria-hidden="true"></i></a>Use TiledMap map</h1>
<h2 id="1-overview"><a name="1-overview" class="anchor-navigation-ex-anchor" href="#1-overview"><i class="fa fa-link" aria-hidden="true"></i></a>1. Overview</h2>
<p>Tiled Map Editor is a free map editor that can be used to edit 2D game maps. The LayaAir engine supports parsing maps exported by Tiled Map. This article will introduce how to use maps exported by Tiled Map Editor in LayaAir engine development.</p>
<p><em>Note: This article is only for developers who are familiar with and use the Tiled Map map tool. This article introduces how to use the map exported by Tiled Map Editor in LayaAir engine projects. Please find third-party tutorial documents for the content of the Tiled Map Editor tool itself. </em></p>
<h2 id="2-export-the-tiled-map-supported-by-the-engine"><a name="2-export-the-tiled-map-supported-by-the-engine" class="anchor-navigation-ex-anchor" href="#2-export-the-tiled-map-supported-by-the-engine"><i class="fa fa-link" aria-hidden="true"></i></a>2. Export the Tiled Map supported by the engine</h2>
<h3 id="21-download-and-install-tiled-map-editor"><a name="21-download-and-install-tiled-map-editor" class="anchor-navigation-ex-anchor" href="#21-download-and-install-tiled-map-editor"><i class="fa fa-link" aria-hidden="true"></i></a>2.1 Download and install Tiled Map Editor</h3>
<p>After opening the official homepage (<a href="http://www.mapeditor.org/" target="_blank">http://www.mapeditor.org/</a>), click the <code>DownLoad at itch.io</code> button directly to enter the download link (<a href="https://thorbjorn.itch.io/tiled" target="_blank">https://thorbjorn.itch.io/tiled</a>).</p>
<p><img src="img/2-1.png" alt="image-20221222102655189" style="zoom:40%;"></p>
<p>(Figure 2-1)</p>
<p>If the official website is revised, you can also find the download link directly from the download page <a href="http://www.mapeditor.org/download.html" target="_blank">http://www.mapeditor.org/download.html</a>.</p>
<p>Find the corresponding system version link, download and install it (<em>The version used in this document is Tiled 1.9.2</em>).</p>
<p><strong>Tips</strong>&#xFF1A;</p>
<p><em>When you open the download, a payment page for sponsoring the software will pop up. If you don&#x2019;t want to pay, you can directly click No thanks, just take me to the downloads, which will take you to a free download link.</em></p>
<h3 id="22-tiled-map-format-supported-by-the-export-engine"><a name="22-tiled-map-format-supported-by-the-export-engine" class="anchor-navigation-ex-anchor" href="#22-tiled-map-format-supported-by-the-export-engine"><i class="fa fa-link" aria-hidden="true"></i></a>2.2 Tiled Map format supported by the export engine</h3>
<p>The specific usage of the Tiled Map tool will not be discussed in this article. You can search for relevant tutorial documents on Baidu or Google. What has a lot to do with the engine is the format. Developers need to pay special attention. Generally, problems arise because they did not pay attention here.</p>
<h4 id="221-requirements-for-tile-layer-format-when-creating-a-map"><a name="221-requirements-for-tile-layer-format-when-creating-a-map" class="anchor-navigation-ex-anchor" href="#221-requirements-for-tile-layer-format-when-creating-a-map"><i class="fa fa-link" aria-hidden="true"></i></a>2.2.1 Requirements for tile layer format when creating a map</h4>
<p>Click to create a new map. After setting the initial parameters such as map size and block size, click Save As to save it in the location you specified to complete the creation.</p>
<p>However, the tile layer format requires special attention, because the <strong>LayaAir engine does not support the Base64 tile layer format of the Tiled Map map. </strong>So when creating a new map <strong>must</strong> be in <code>CSV format</code>, as shown in Figure 2-2.</p>
<p><img src="img/2-2.png" alt="image-20221222103428230" style="zoom: 50%;"></p>
<p>(Figure 2-2)</p>
<p>If you made the wrong choice when creating, you can also change the tile layer format to CSV or XML in the properties panel, as shown in Figure 2-3. Base64-related formats are not supported.</p>
<p><img src="img/2-3.png" alt="image-20221222103707000" style="zoom:60%;"></p>
<p>(Figure 2-3)</p>
<h4 id="222-export-to-json-format"><a name="222-export-to-json-format" class="anchor-navigation-ex-anchor" href="#222-export-to-json-format"><i class="fa fa-link" aria-hidden="true"></i></a>2.2.2 Export to json format</h4>
<p>In this example, we directly open the Tiled Map example map orthogonal-outside.tmx (<em>located in the examples directory of the Tiled Map map installation directory</em>), as shown in Figure 2-4</p>
<p><img src="img/2-4.png" alt="image-20221222104447474" style="zoom:50%;"></p>
<p>(Figure 2-4)</p>
<p>When exporting, we need to choose the json format.</p>
<p>In the file menu of the Tiled tool, click Save As to save the completed Tiled map as a json file type. In this example, it is named <code>orthogonal.json</code> (the file name is whatever the developer wants, just keep it consistent later), and click Save , and save it in the <strong>project directory</strong> (in this case, the project root directory \assets\resources\TiledMap), as shown in Figure 2-5.</p>
<p><img src="img/2-5.png" alt="image-20221222104657547" style="zoom:50%;"></p>
<p>(Figure 2-5)</p>
<h4 id="223-modify-the-album-path-and-copy-tiled-resources"><a name="223-modify-the-album-path-and-copy-tiled-resources" class="anchor-navigation-ex-anchor" href="#223-modify-the-album-path-and-copy-tiled-resources"><i class="fa fa-link" aria-hidden="true"></i></a>2.2.3 Modify the album path and copy Tiled resources</h4>
<p>Just saving it as a json file is not enough, we also need to change the absolute path of the image to a relative path.</p>
<p>We use the IDE to open the <code>orthogonal.json</code> we just saved and search for the keyword <code>image</code>. We will find that the default atlas path is located in the Tiled installation directory. As shown in Figure 2-6.</p>
<p><img src="img/2-6.png" alt="image-20221222110030369" style="zoom:50%;"></p>
<p>(Figure 2-6)</p>
<p>The path must not be in the Tiled installation directory.</p>
<p>Therefore, we need to copy this image to the project directory first, at the same level as the previously saved <code>orthogonal.json</code>.</p>
<p>As shown in Figure 2-7.</p>
<p><img src="img/2-7.png" alt="image-20221222111025554" style="zoom:60%;"></p>
<p>(Figure 2-7)</p>
<p>At the same time, we need to modify the format of the image file in the IDE to support transparent channels.</p>
<p><img src="img/2-8.png" alt="image-20221222113237225" style="zoom:50%;"></p>
<p>(Figure 2-8)</p>
<p>Then change the atlas path in <code>orthogonal.json</code> to a relative path, as shown in Figure 2-9</p>
<p><img src="img/2-9.png" alt="image-20221222113834115" style="zoom:50%;"></p>
<p>(Figure 2-9)</p>
<p>The preparation phase is over and the coding phase begins...</p>
<h2 id="3-layaair-engine-uses-tiled-map-map"><a name="3-layaair-engine-uses-tiled-map-map" class="anchor-navigation-ex-anchor" href="#3-layaair-engine-uses-tiled-map-map"><i class="fa fa-link" aria-hidden="true"></i></a>3. LayaAir engine uses Tiled Map map</h2>
<h3 id="31-ide-selects-layatiledmap-component"><a name="31-ide-selects-layatiledmap-component" class="anchor-navigation-ex-anchor" href="#31-ide-selects-layatiledmap-component"><i class="fa fa-link" aria-hidden="true"></i></a>3.1 IDE selects laya.tiledmap component</h3>
<p><img src="img/3-1.png" alt="image-20221222112120899" style="zoom:50%;"></p>
<p>(Figure 3-1)</p>
<p>As shown in Figure 3-1, the engine class library only supports tiledmap after checking the laya.tiledmap component.</p>
<h3 id="32-create-tiledmap-map"><a name="32-create-tiledmap-map" class="anchor-navigation-ex-anchor" href="#32-create-tiledmap-map"><i class="fa fa-link" aria-hidden="true"></i></a>3.2 Create TiledMap map</h3>
<h4 id="321-createmap-api-description"><a name="321-createmap-api-description" class="anchor-navigation-ex-anchor" href="#321-createmap-api-description"><i class="fa fa-link" aria-hidden="true"></i></a>3.2.1 createMap API Description</h4>
<p>The <code>createMap</code> method in the laya.TiledMap class can create a <code>TiledMap</code> map. The basic parameter description is shown in Figure 3-2.</p>
<p> <img src="img/3-2.png" style="zoom: 50%;"></p>
<p>(Figure 3-2)</p>
<h4 id="322-create-map-example"><a name="322-create-map-example" class="anchor-navigation-ex-anchor" href="#322-create-map-example"><i class="fa fa-link" aria-hidden="true"></i></a>3.2.2 Create map example</h4>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">const</span> <span class="token punctuation">{</span> regClass<span class="token punctuation">,</span> property <span class="token punctuation">}</span> <span class="token operator">=</span> Laya<span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">regClass</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token keyword">extends</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span>Script <span class="token punctuation">{</span>

    <span class="token keyword">private</span> tMap<span class="token operator">:</span>Laya<span class="token punctuation">.</span>TiledMap<span class="token punctuation">;</span>

    <span class="token function">onEnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">//Create map object</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">TiledMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//Create Rectangle instance, viewport area</span>
        <span class="token keyword">var</span> viewRect<span class="token operator">:</span>Laya<span class="token punctuation">.</span>Rectangle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>designWidth<span class="token punctuation">,</span> Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>designHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//Create TiledMap map</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span><span class="token function">createMap</span><span class="token punctuation">(</span><span class="token string">&quot;resources/TiledMap/orthogonal.json&quot;</span><span class="token punctuation">,</span> viewRect<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">Handler</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>completeHandler<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//Add the map to Scene2D</span>
    <span class="token keyword">private</span> <span class="token function">onLoaded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span><span class="token function">mapSprite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeSelf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>owner<span class="token punctuation">.</span><span class="token function">addChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span><span class="token function">mapSprite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//Callback when map loading is complete</span>
    <span class="token keyword">private</span> <span class="token function">completeHandler</span><span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onLoaded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Compile and run the code, and the effect is as shown in Figure 3-3, indicating that the map has been created successfully.</p>
<p><img src="img/3-3.png" alt="image-20221222115834524"></p>
<p>(Figure 3-3)</p>
<h3 id="33-control-map"><a name="33-control-map" class="anchor-navigation-ex-anchor" href="#33-control-map"><i class="fa fa-link" aria-hidden="true"></i></a>3.3 Control map</h3>
<p>To control the map, you must first load the json of the map, and then control it in the callback method. Below we will learn how to use it with examples.</p>
<h4 id="331-map-zoom"><a name="331-map-zoom" class="anchor-navigation-ex-anchor" href="#331-map-zoom"><i class="fa fa-link" aria-hidden="true"></i></a>3.3.1 Map zoom</h4>
<p>The <code>scale</code> attribute in the <code>laya.map.TiledMap</code> class can control the zoom ratio of the map. We follow the previous example, add a callback in the <code>createMap</code> method, and then use the <code>scale</code> attribute to zoom the map.</p>
<p>The sample code is as follows:</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">private</span> <span class="token function">onLoaded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
<span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span><span class="token function">mapSprite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeSelf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>owner<span class="token punctuation">.</span><span class="token function">addChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span><span class="token function">mapSprite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//Enlarge the original map 2 times</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span>scale <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The running effect is shown in Figure 3-4.</p>
<p><img src="img/3-4.png" style="zoom: 33%;"></p>
<p>(Figure 3-4)</p>
<h4 id="332-set-the-center-point-of-map-zoom"><a name="332-set-the-center-point-of-map-zoom" class="anchor-navigation-ex-anchor" href="#332-set-the-center-point-of-map-zoom"><i class="fa fa-link" aria-hidden="true"></i></a>3.3.2 Set the center point of map zoom</h4>
<p>Obviously, the effect in Figure 3-4 is not what we want. After zooming in. Some parts are not shown. This is caused by the default zoom center point being in the center area of &#x200B;&#x200B;the viewport.</p>
<h5 id="viewport-area-and-default-zoom-center-point-position"><a name="viewport-area-and-default-zoom-center-point-position" class="anchor-navigation-ex-anchor" href="#viewport-area-and-default-zoom-center-point-position"><i class="fa fa-link" aria-hidden="true"></i></a>Viewport area and default zoom center point position</h5>
<p>The viewport area is set in the second parameter of the create map method (<code>createMap</code>),</p>
<pre class="language-"><code class="lang-typescript"><span class="token comment">//Create map object</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>tMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">TiledMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Create Rectangle instance, viewport area</span>
<span class="token keyword">var</span> viewRect<span class="token operator">:</span>Laya<span class="token punctuation">.</span>Rectangle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>designWidth<span class="token punctuation">,</span> Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>designHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Create TiledMap map</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span><span class="token function">createMap</span><span class="token punctuation">(</span><span class="token string">&quot;resources/TiledMap/orthogonal.json&quot;</span><span class="token punctuation">,</span> viewRect<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">Handler</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>completeHandler<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>By looking at the code, we find that the viewport is set to (<code>Laya.stage.designWidth, Laya.stage.designHeight</code>). The default value of the method <code>setViewPortPivotByScale</code> that controls scaling is 0.5. Then the center point position is shown in Figure 3-5.</p>
<p><img src="img/3-5.png" alt="Figure 9-1"></p>
<p>(Figure 3-5)</p>
<p>When the map is zoomed in twice (<code>this.tMap.scale = 2;</code>), since the zoom is performed based on the center points of the x and y axes of the viewport area, the effect shown in Figure 3-6 will be produced after zooming in.</p>
<p><img src="img/3-6.png" alt="Figure 9-2"></p>
<p>(Figure 3-6)</p>
<p>Next, we will further understand the center point of the scale attribute through the animation 3-7, which shows the scaling effect from 0.1 to 2 times the original image ratio.</p>
<p><img src="img/3-7.gif" alt="Animation 9-3"></p>
<p>(Animation 3-7)</p>
<h5 id="use-the-setviewportpivotbyscale-method-to-set-the-zoom-center-point"><a name="use-the-setviewportpivotbyscale-method-to-set-the-zoom-center-point" class="anchor-navigation-ex-anchor" href="#use-the-setviewportpivotbyscale-method-to-set-the-zoom-center-point"><i class="fa fa-link" aria-hidden="true"></i></a>Use the <code>setViewPortPivotByScale</code> method to set the zoom center point</h5>
<p>What was introduced in the previous article is the default zoom center point effect. So how to set and change the zoom center point. The <code>setViewPortPivotByScale()</code> method in the <code>laya.map.TiledMap</code> class can set the center point of the viewport. The basic API description is shown in Figure 3-8.</p>
<p><img src="img/3-8.png" alt="image-20221222121322690" style="zoom:50%;"></p>
<p>(Figure 3-8)</p>
<p>The first parameter of the <code>setViewPortPivotByScale()</code> method <code>scaleX</code> is the scaling coordinate ratio in the X-axis direction, and <code>scaleY</code> is the scaling coordinate ratio in the Y-axis direction.</p>
<p>For example:</p>
<pre class="language-"><code>this.tMap.setViewPortPivotByScale(0.1,0.5);
</code></pre><p><strong>Code Description</strong>:</p>
<p>Assume the viewport size is 1136*640</p>
<ul>
<li><code>scaleX</code> value <code>0.1</code> means that the coordinate of the x-axis scaling center point is 113.6 (1136*0.1)</li>
<li><code>scaleY</code> value <code>0.5</code> means that the coordinate of the y-axis scaling center point is 320 (640*0.5)</li>
</ul>
<p>When the code is running, the x-axis 113.6 and the y-axis 320 are used as the center point coordinates of the viewport for scaling.</p>
<h5 id="set-the-zoom-center-point-to-the-upper-left-corner-of-the-viewport"><a name="set-the-zoom-center-point-to-the-upper-left-corner-of-the-viewport" class="anchor-navigation-ex-anchor" href="#set-the-zoom-center-point-to-the-upper-left-corner-of-the-viewport"><i class="fa fa-link" aria-hidden="true"></i></a>Set the zoom center point to the upper left corner of the viewport</h5>
<p>When the zoom center point of <code>setViewPortPivotByScale</code> is set to <code>0,0</code>, it is the upper left corner of the viewport. Continuing to use the previous example, the coding is as follows:</p>
<pre class="language-"><code class="lang-typescript"><span class="token comment">//Add the map to Scene2D</span>
<span class="token keyword">private</span> <span class="token function">onLoaded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span><span class="token function">mapSprite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeSelf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>owner<span class="token punctuation">.</span><span class="token function">addChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span><span class="token function">mapSprite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//Set the zoom center point to the upper left corner of the viewport</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span><span class="token function">setViewPortPivotByScale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//Enlarge the original map 2 times</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span>scale <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Set the zoom center point to the upper left corner of the viewport, and then zoom in 2 times, the effect is as shown in Figure 3-9.</p>
<p><img src="img/3-9.png" alt="image-20221222121558879" style="zoom: 33%;"></p>
<p>(Figure 3-9)</p>
<h3 id="34-drag-the-map"><a name="34-drag-the-map" class="anchor-navigation-ex-anchor" href="#34-drag-the-map"><i class="fa fa-link" aria-hidden="true"></i></a>3.4 Drag the map</h3>
<p>When the map is enlarged, it cannot be fully displayed. At this time, you need to drag the map to view all.</p>
<p>In addition to the methods introduced in the previous article, dragging the map also requires the <code>moveViewPort()</code> (moving the viewport) method and the <code>changeViewPort()</code> (changing the viewport size) method. The basic descriptions of these two APIs are shown in Figures 3-10 and 3-11.</p>
<p><img src="img/3-10.png" alt="image-20221222121903934" style="zoom: 50%;"></p>
<p>(Figure 3-10)</p>
<p><img src="img/3-11.png" alt="image-20221222121947758" style="zoom:50%;"></p>
<p>(Figure 3-11)</p>
<p>Check the code directly below to understand the use of these two methods.</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">const</span> <span class="token punctuation">{</span> regClass<span class="token punctuation">,</span> property <span class="token punctuation">}</span> <span class="token operator">=</span> Laya<span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">regClass</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token keyword">extends</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span>Script <span class="token punctuation">{</span>

    <span class="token keyword">private</span> tMap<span class="token operator">:</span>Laya<span class="token punctuation">.</span>TiledMap<span class="token punctuation">;</span>
    <span class="token keyword">private</span> MapX<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> MapY<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> mLastMouseX<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> mLastMouseY<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>

    <span class="token function">onEnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">//Create map object</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">TiledMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//Create Rectangle instance, viewport area</span>
        <span class="token keyword">var</span> viewRect<span class="token operator">:</span>Laya<span class="token punctuation">.</span>Rectangle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>designWidth<span class="token punctuation">,</span> Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>designHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//Create TiledMap map</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span><span class="token function">createMap</span><span class="token punctuation">(</span><span class="token string">&quot;resources/TiledMap/orthogonal.json&quot;</span><span class="token punctuation">,</span> viewRect<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">Handler</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>completeHandler<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//Add the map to Scene2D</span>
    <span class="token keyword">private</span> <span class="token function">onLoaded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span><span class="token function">mapSprite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeSelf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>owner<span class="token punctuation">.</span><span class="token function">addChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span><span class="token function">mapSprite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//Set the zoom center point to the upper left corner of the viewport</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span><span class="token function">setViewPortPivotByScale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//Enlarge the original map 3 times</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span>scale <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

        Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>Event<span class="token punctuation">.</span><span class="token constant">RESIZE</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>resize<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>Event<span class="token punctuation">.</span><span class="token constant">MOUSE_DOWN</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mouseDown<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>Event<span class="token punctuation">.</span><span class="token constant">MOUSE_UP</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mouseUp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//Callback when map loading is complete</span>
    <span class="token keyword">private</span> <span class="token function">completeHandler</span><span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onLoaded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Move map viewport
     */</span>
    <span class="token keyword">private</span> <span class="token function">mouseMove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> moveX<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>MapX <span class="token operator">-</span> <span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>mouseX <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mLastMouseX<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> moveY<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>MapY <span class="token operator">-</span> <span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>mouseY <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mLastMouseY<span class="token punctuation">)</span>
        <span class="token comment">//Move map viewport</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span><span class="token function">moveViewPort</span><span class="token punctuation">(</span>moveX<span class="token punctuation">,</span> moveY<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token function">mouseUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>MapX <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>MapX <span class="token operator">-</span> <span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>mouseX <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mLastMouseX<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>MapY <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>MapY <span class="token operator">-</span> <span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>mouseY <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mLastMouseY<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>Event<span class="token punctuation">.</span><span class="token constant">MOUSE_MOVE</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mouseMove<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token function">mouseDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mLastMouseX <span class="token operator">=</span> Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>mouseX<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mLastMouseY <span class="token operator">=</span> Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>mouseY<span class="token punctuation">;</span>
        Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>Event<span class="token punctuation">.</span><span class="token constant">MOUSE_MOVE</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mouseMove<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Change viewport size
     * Reset the map viewport area
     */</span>    
    <span class="token keyword">private</span> <span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//Change the viewport size</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span><span class="token function">changeViewPort</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>MapX<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>MapY<span class="token punctuation">,</span> Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>designWidth<span class="token punctuation">,</span> Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>designHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The code running effect is shown in Figure 3-12.</p>
<p><img src="img/3-12.gif" style="zoom: 33%;"></p>
<p>(Animation 3-12)</p>
<h2 id="4-tiled-map-usage-optimization"><a name="4-tiled-map-usage-optimization" class="anchor-navigation-ex-anchor" href="#4-tiled-map-usage-optimization"><i class="fa fa-link" aria-hidden="true"></i></a>4. Tiled Map usage optimization</h2>
<h3 id="41-destroy-the-map"><a name="41-destroy-the-map" class="anchor-navigation-ex-anchor" href="#41-destroy-the-map"><i class="fa fa-link" aria-hidden="true"></i></a>4.1 Destroy the map</h3>
<p>When the Tiled Map is no longer used, it needs to be destroyed using the destroy() method to recycle the occupied memory.</p>
<p>For example:</p>
<pre class="language-"><code>this.tMap.destroy();
</code></pre><h3 id="42-cache-related"><a name="42-cache-related" class="anchor-navigation-ex-anchor" href="#42-cache-related"><i class="fa fa-link" aria-hidden="true"></i></a>4.2 Cache related</h3>
<h4 id="421-turn-on-and-off-automatic-caching"><a name="421-turn-on-and-off-automatic-caching" class="anchor-navigation-ex-anchor" href="#421-turn-on-and-off-automatic-caching"><i class="fa fa-link" aria-hidden="true"></i></a>4.2.1 Turn on and off automatic caching</h4>
<p>When the LayaAir engine uses <code>TiledMap</code>, plots without animation will be automatically cached by default, and the cache type defaults to normal.</p>
<pre class="language-"><code class="lang-typescript"><span class="token comment">//Automatically cache plots without animation</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span>autoCache <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token comment">//The type of automatic caching. It is recommended to use normal when the map is large.</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span>autoCacheType <span class="token operator">=</span> <span class="token string">&quot;normal&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//Eliminate the gaps caused by scaling, that is, remove the black edges</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span>antiCrack <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre>
<p>The above code attributes are the default values &#x200B;&#x200B;of the engine. In most cases, you can keep the default values &#x200B;&#x200B;without additional settings.</p>
<p>So why introduce it again?</p>
<p>Because sometimes, black edges (gaps) will appear in the cached Tiled map. Despite the <code>antiCrack</code> attribute, most black edges caused by normal caching can be eliminated. But if the occasional black border problem remains unresolved. The problem of black edges (gaps) can be solved by turning off automatic caching.</p>
<h4 id="422-set-cache-block-size"><a name="422-set-cache-block-size" class="anchor-navigation-ex-anchor" href="#422-set-cache-block-size"><i class="fa fa-link" aria-hidden="true"></i></a>4.2.2 Set cache block size</h4>
<h5 id="recommended-settings-for-cache-blocks"><a name="recommended-settings-for-cache-blocks" class="anchor-navigation-ex-anchor" href="#recommended-settings-for-cache-blocks"><i class="fa fa-link" aria-hidden="true"></i></a>Recommended settings for cache blocks</h5>
<p><code>TiledMap</code> maps are composed of unit blocks. If the original size is maintained during caching, performance will be affected when there are many small image blocks. Therefore, it is recommended to turn on the cache block setting and set the size of the cache block to about 512 pixels, which must be an integer multiple of the original small image block.</p>
<p>For example, the single image block size in the example in this article is <code>16*16</code>, then the cache block can be set to 32 times 16, which is <code>512*512</code>.</p>
<p>If the single image is <code>15*15</code>, the cacheable block can be set to <code>510*510</code> (34 times), and so on. Try to set it around 512 under the premise of an integer multiple of the original block. Recommended is <code>512*512</code>.</p>
<h5 id="specific-setting-method-of-cache-block"><a name="specific-setting-method-of-cache-block" class="anchor-navigation-ex-anchor" href="#specific-setting-method-of-cache-block"><i class="fa fa-link" aria-hidden="true"></i></a>Specific setting method of cache block</h5>
<p>The settings of the cache block need to be set when <code>createMap</code> (creating the map). Set the fourth parameter <code>gridSize</code>, the example is as follows:</p>
<pre class="language-"><code class="lang-typescript"><span class="token comment">//Create a Rectangle instance for the second parameter, the viewport area</span>
<span class="token keyword">var</span> viewRect<span class="token operator">:</span>Laya<span class="token punctuation">.</span>Rectangle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>width<span class="token punctuation">,</span> Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Create a Point object instance with a size of 512*512 for the fourth parameter gridSize</span>
<span class="token keyword">var</span> gridSize<span class="token operator">:</span>Laya<span class="token punctuation">.</span>Point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Create TiledMap map</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span><span class="token function">createMap</span><span class="token punctuation">(</span><span class="token string">&quot;res/TiledMap/orthogonal.json&quot;</span><span class="token punctuation">,</span>viewRect<span class="token punctuation">,</span> Laya<span class="token punctuation">.</span>Handler<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>onMapLoaded<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> gridSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="43-merge-layers"><a name="43-merge-layers" class="anchor-navigation-ex-anchor" href="#43-merge-layers"><i class="fa fa-link" aria-hidden="true"></i></a>4.3 Merge layers</h3>
<h4 id="431-turn-on-merged-layers"><a name="431-turn-on-merged-layers" class="anchor-navigation-ex-anchor" href="#431-turn-on-merged-layers"><i class="fa fa-link" aria-hidden="true"></i></a>4.3.1 Turn on merged layers</h4>
<p>When there are multiple layers in <code>TiledMap</code>, turn on the attribute <code>enableMergeLayer</code> of the merged layer to merge the layers, which will improve performance.</p>
<p>The way to turn it on is:</p>
<pre class="language-"><code class="lang-typescript"><span class="token comment">//Enable layer merging</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>tMap<span class="token punctuation">.</span>enableMergeLayer <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Tips</strong>:</p>
<p>It should be noted that if you need to operate on the layers before merging, you cannot merge them directly. Because after merging, the layers before merging cannot be operated.</p>
<h4 id="432-layer-merging-and-grouping"><a name="432-layer-merging-and-grouping" class="anchor-navigation-ex-anchor" href="#432-layer-merging-and-grouping"><i class="fa fa-link" aria-hidden="true"></i></a>4.3.2 Layer merging and grouping</h4>
<p>If the layers are not grouped in <code>TiledMap</code>, then when the layers are merged, all the layers will be merged together. Therefore, it is necessary to divide it into multiple layers and operate them separately. Layers can be grouped in a <code>TiledMap</code>.</p>
<h5 id="tiledmap-layer-grouping-method"><a name="tiledmap-layer-grouping-method" class="anchor-navigation-ex-anchor" href="#tiledmap-layer-grouping-method"><i class="fa fa-link" aria-hidden="true"></i></a><code>TiledMap</code> layer grouping method</h5>
<p>Open the <code>TiledMap</code> map editor, select the layer to be grouped, and add a <code>string</code> type attribute named <code>layer</code> in the layer&apos;s custom property bar. The operation is shown in Figure 4-1.</p>
<p><img src="img/4-1.png" alt="Figure 14-1"></p>
<p>(Pic 4-1)</p>
<p>Click OK. After the addition is completed, all layers with custom attribute layers added will be added. Set the group name.</p>
<p>For example, if we set the group name of block layer 2 and block layer 3 to layaAir, then the layer named layaAir will be merged into the same layer after <code>enableMergeLayer</code> is turned on. The operation is shown in Figure 4-2.</p>
<p><img src="img/4-2.png" alt="Figure 14-2"></p>
<p>(Figure 4-2)</p>
<p>When merging layers is turned on, the layer attribute can be added to the layer attributes. At runtime, adjacent layers with the same layer attributes will be merged to improve performance.</p>
<h3 id="44-remove-covered-grids"><a name="44-remove-covered-grids" class="anchor-navigation-ex-anchor" href="#44-remove-covered-grids"><i class="fa fa-link" aria-hidden="true"></i></a>4.4 Remove covered grids</h3>
<p>If the underlying grid is occluded, and the occluded plot is not transparent, then the occluded part is directly removed without being rendered, which can improve performance.</p>
<p>The method to enable removal of overwriting is:</p>
<pre class="language-"><code>//Remove the parts covered by non-transparent blocks
this.tMap.removeCoveredTile = true;
</code></pre><p><strong>Tips</strong>&#xFF1A;</p>
<p>If it is opened, it is impossible to operate the removed part. Therefore, you must confirm before turning on this function and no longer operate on the removed part.</p>
<h5 id="prerequisites-for-removecoveredtile-to-be-enabled"><a name="prerequisites-for-removecoveredtile-to-be-enabled" class="anchor-navigation-ex-anchor" href="#prerequisites-for-removecoveredtile-to-be-enabled"><i class="fa fa-link" aria-hidden="true"></i></a>Prerequisites for <code>removeCoveredTile</code> to be enabled</h5>
<p>If the <code>type</code> attribute is not set for the tile in the Tiled Map, then even if <code>removeCoveredTile</code> is turned on, it will be invalid. Therefore, before turning it on, you need to add a custom attribute type for the tile in the <code>TiledMap</code> editor and set it to 1.</p>
<h5 id="how-to-set-the-tile-type-in-tiled-map"><a name="how-to-set-the-tile-type-in-tiled-map" class="anchor-navigation-ex-anchor" href="#how-to-set-the-tile-type-in-tiled-map"><i class="fa fa-link" aria-hidden="true"></i></a>How to set the tile type in Tiled Map</h5>
<p>In the tile panel, click tile editing to open the tile terrain editing panel. The operation is shown in Figure 4-3.</p>
<p><img src="img/4-3.png" alt="Figure 15-1"></p>
<p>(Figure 4-3)</p>
<p>In the tile terrain editing panel, select the terrain, click the <code>+</code> icon in the custom attribute bar, and add the <code>type</code> attribute of the <code>int</code> type. Then click OK to complete the addition. The operation is shown in Figure 4-4.</p>
<p><img src="img/4-4.png" alt="Figure 15-2"></p>
<p>(Figure 4-4)</p>
<p>After completing the addition, set the <code>type</code> attribute value to 1. The operation is shown in Figure 4-5.</p>
<p><img src="img/4-5.png" alt="Figure 15-3"></p>
<p>(Figure 4-5)</p>
<p>As long as the custom attribute type is set to 1, when <code>removeCoveredTile</code> is turned on. When blocked and invisible, they can be removed to improve performance.</p>
<footer class="page-footer"><span class="copyright">Copyright &#xA9;Layabox 2022 all right reserved&#xFF0C;powered by <a href="https://layaAir.layabox.com/" target="_blank">LayaAir</a> Engine</span><span class="footer-modification">Update&#xFF1A;
2024-02-21 18:51:36
</span></footer>
<script>console.log("plugin-popup....");document.onclick = function(e){ e.target.tagName === "IMG" && window.open(e.target.src,e.target.src)}</script><style>img{cursor:pointer}</style>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../advanced/useText/readme.html" class="navigation navigation-prev " aria-label="Previous page: use Text">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../performanceOptimization/readme.html" class="navigation navigation-next " aria-label="Next page: performance Optimization">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"TiledMap","level":"1.4.1.2","depth":3,"next":{"title":"performance Optimization","level":"1.4.1.3","depth":3,"path":"2D/performanceOptimization/readme.md","ref":"2D/performanceOptimization/readme.md","articles":[]},"previous":{"title":"use Text","level":"1.4.1.1","depth":3,"path":"2D/advanced/useText/readme.md","ref":"2D/advanced/useText/readme.md","articles":[]},"dir":"ltr"},"config":{"plugins":["expandable-chapters-small","sidebar-style","anchor-navigation-ex","-lunr","-search","-sharing","search-pro","versions-select","-favicon","favicon-absolute","fontsettings","prism","splitter","code","flexible-alerts","auto-scroll-table","popup","tbfed-pagefooter","-theme-hqbook"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"sidebar-style":{"author":"","title":""},"tbfed-pagefooter":{"copyright":"Copyright ©Layabox 2022","modify_label":"Update：","modify_format":"YYYY-MM-DD HH:mm:ss"},"prism":{"css":["prismjs/themes/prism-solarizedlight.css"],"lang":{"flow":"typescript"},"ignore":["mermaid","eval-js"]},"splitter":{},"search-pro":{},"auto-scroll-table":{},"popup":{},"code":{"copyButtons":true},"versions-select":{"type":"branches"},"favicon-absolute":{"appleTouchIconMore":{},"appleTouchIconPrecomposed152":"./style/layabox-152.png","appleTouchIconPrecomposedMore":{},"favicon":"./style/favicon-32.ico","bookmark":"./style/favicon-32.ico"},"fontsettings":{"family":"sans","size":2,"theme":"white"},"highlight":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":false,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":false},"expandable-chapters-small":{},"flexible-alerts":{"danger":{"className":"danger","icon":"fa fa-ban","label":"Attention"},"note":{"className":"info","icon":"fa fa-info-circle","label":"Note"},"style":"callout","tip":{"className":"tip","icon":"fa fa-lightbulb-o","label":"Tip"},"warning":{"className":"warning","icon":"fa fa-exclamation-triangle","label":"Warning"}},"versions":{"options":[{"value":"https://layaAir.com/3.1/doc/","text":"v3.1"}]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","style":{"website":"style/website.css"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"LayaAir3 Engine Documentation · LAYABOX","gitbook":"*"},"file":{"path":"2D/TiledMap/readme.md","mtime":"2024-02-21T10:51:36.502Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2024-03-05T09:10:56.121Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sidebar-style/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-versions-select/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-flexible-alerts/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-auto-scroll-table/plugin.js"></script>
        
    

    </body>
</html>

