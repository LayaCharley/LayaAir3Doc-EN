
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>DOM · LayaAir3.0文档 · LAYABOX</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-sidebar-style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-versions-select/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-solarizedlight.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-flexible-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-auto-scroll-table/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../../3D/advanced/readme.html" />
    
    
    <link rel="prev" href="../performanceOptimization/readme.html" />
    

    
        <link rel="shortcut icon" href="./style/favicon-32.ico" type="image/x-icon">
    
    
        <link rel="bookmark" href="./style/favicon-32.ico" type="image/x-icon">
    
    
    
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="./style/layabox-152.png">
    
    
        
    
    
        
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" >
            
                <span>
            
                    
                    Beginners
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1.1" data-path="../../basics/readme.html">
            
                <a href="../../basics/readme.html">
            
                    
                    Features
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="../../basics/developmentEnvironment/readme.html">
            
                <a href="../../basics/developmentEnvironment/readme.html">
            
                    
                    Development Environment
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.2.1" data-path="../../basics/developmentEnvironment/download/readme.html">
            
                <a href="../../basics/developmentEnvironment/download/readme.html">
            
                    
                    Install
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2.2" data-path="../../basics/IDE/GUI/readme.html">
            
                <a href="../../basics/IDE/GUI/readme.html">
            
                    
                    GUI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="../../basics/essentialSkills/readme.html">
            
                <a href="../../basics/essentialSkills/readme.html">
            
                    
                    Essential Skills
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.3.1" data-path="../../basics/language/readme.html">
            
                <a href="../../basics/language/readme.html">
            
                    
                    Language
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3.2" data-path="../../basics/DevTools/readme.html">
            
                <a href="../../basics/DevTools/readme.html">
            
                    
                    DevTools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3.3" data-path="../../basics/LayaTree/readme.html">
            
                <a href="../../basics/LayaTree/readme.html">
            
                    
                    LayaTree
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Engine Basics
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../basics/IDE/readme.html">
            
                <a href="../../basics/IDE/readme.html">
            
                    
                    IDE Basics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../../basics/IDE/layouts/readme.html">
            
                <a href="../../basics/IDE/layouts/readme.html">
            
                    
                    layouts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="../../basics/IDE/projecFolders/readme.html">
            
                <a href="../../basics/IDE/projecFolders/readme.html">
            
                    
                    projecFolders
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.3" data-path="../../basics/IDE/projectSettings/readme.html">
            
                <a href="../../basics/IDE/projectSettings/readme.html">
            
                    
                    projectSettings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.4" data-path="../../basics/IDE/entry/readme.html">
            
                <a href="../../basics/IDE/entry/readme.html">
            
                    
                    entry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.5" data-path="../../basics/IDE/importJsLibrary/readme.html">
            
                <a href="../../basics/IDE/importJsLibrary/readme.html">
            
                    
                    import Js Library
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.6" data-path="../../basics/IDE/Hierarchy/readme.html">
            
                <a href="../../basics/IDE/Hierarchy/readme.html">
            
                    
                    Hierarchy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.7" data-path="../../basics/IDE/assets/readme.html">
            
                <a href="../../basics/IDE/assets/readme.html">
            
                    
                    assets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.8" data-path="../../basics/IDE/Inspector/readme.html">
            
                <a href="../../basics/IDE/Inspector/readme.html">
            
                    
                    Inspector
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.9" data-path="../../basics/IDE/Game/readme.html">
            
                <a href="../../basics/IDE/Game/readme.html">
            
                    
                    Game
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.10" data-path="../../basics/IDE/shortcutKeyCombinations/readme.html">
            
                <a href="../../basics/IDE/shortcutKeyCombinations/readme.html">
            
                    
                    shortcutKey Combinations
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../basics/common/readme.html">
            
                <a href="../../basics/common/readme.html">
            
                    
                    Engine General Basics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../../basics/common/terms/readme.html">
            
                <a href="../../basics/common/terms/readme.html">
            
                    
                    basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../../basics/common/Component/readme.html">
            
                <a href="../../basics/common/Component/readme.html">
            
                    
                    Component
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../../basics/common/Loader/readme.html">
            
                <a href="../../basics/common/Loader/readme.html">
            
                    
                    Loader
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="../../basics/common/Scene/readme.html">
            
                <a href="../../basics/common/Scene/readme.html">
            
                    
                    Scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5" data-path="../../basics/common/Node/readme.html">
            
                <a href="../../basics/common/Node/readme.html">
            
                    
                    Node
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.6" data-path="../../basics/common/Timer/readme.html">
            
                <a href="../../basics/common/Timer/readme.html">
            
                    
                    Timer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.7" data-path="../../basics/common/Event/readme.html">
            
                <a href="../../basics/common/Event/readme.html">
            
                    
                    Event
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.8" data-path="../../basics/common/Tween/readme.html">
            
                <a href="../../basics/common/Tween/readme.html">
            
                    
                    Tween
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.9" data-path="../../basics/common/Pool/readme.html">
            
                <a href="../../basics/common/Pool/readme.html">
            
                    
                    Pool
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.10" data-path="../../basics/common/network/readme.html">
            
                <a href="../../basics/common/network/readme.html">
            
                    
                    network
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.11" data-path="../../basics/common/adaptScreen/readme.html">
            
                <a href="../../basics/common/adaptScreen/readme.html">
            
                    
                    adaptScreen
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.12" data-path="../../basics/common/Browser/readme.html">
            
                <a href="../../basics/common/Browser/readme.html">
            
                    
                    Browser
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.13" data-path="../../basics/common/device/readme.html">
            
                <a href="../../basics/common/device/readme.html">
            
                    
                    device
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.13.1" data-path="../../basics/common/device/media/readme.html">
            
                <a href="../../basics/common/device/media/readme.html">
            
                    
                    media
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.13.2" data-path="../../basics/common/device/motion/readme.html">
            
                <a href="../../basics/common/device/motion/readme.html">
            
                    
                    motion
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2.14" data-path="../../basics/common/Stat/readme.html">
            
                <a href="../../basics/common/Stat/readme.html">
            
                    
                    Stat
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../basics/3D/readme.html">
            
                <a href="../../basics/3D/readme.html">
            
                    
                    Basic of 3D Engine
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../../basics/3D/beginner/readme.html">
            
                <a href="../../basics/3D/beginner/readme.html">
            
                    
                    beginner
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../../basics/3D/Transform/readme.html">
            
                <a href="../../basics/3D/Transform/readme.html">
            
                    
                    Transform
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Editor
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../IDE/uiEditor/readme.html">
            
                <a href="../../IDE/uiEditor/readme.html">
            
                    
                    UI Editor
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../../IDE/uiEditor/basic/readme.html">
            
                <a href="../../IDE/uiEditor/basic/readme.html">
            
                    
                    Basic Interaction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="../../IDE/uiEditor/widgets/readme.html">
            
                <a href="../../IDE/uiEditor/widgets/readme.html">
            
                    
                    widgets
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.1" data-path="../displayObject/readme.html">
            
                <a href="../displayObject/readme.html">
            
                    
                    Display Object
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.1.1" data-path="../displayObject/Sprite/readme.html">
            
                <a href="../displayObject/Sprite/readme.html">
            
                    
                    Sprite
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.1.2" data-path="../displayObject/Animation/readme.html">
            
                <a href="../displayObject/Animation/readme.html">
            
                    
                    Animation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.1.3" data-path="../displayObject/Text/readme.html">
            
                <a href="../displayObject/Text/readme.html">
            
                    
                    Text
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.1.4" data-path="../displayObject/SoundNode/readme.html">
            
                <a href="../displayObject/SoundNode/readme.html">
            
                    
                    Sound Node
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.1.5" data-path="../displayObject/VideoNode/readme.html">
            
                <a href="../displayObject/VideoNode/readme.html">
            
                    
                    Video Node
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2" data-path="../../IDE/uiEditor/uiComponent/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/readme.html">
            
                    
                    UIComponent
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.1" data-path="../../IDE/uiEditor/uiComponent/Image/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/Image/readme.html">
            
                    
                    Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.2" data-path="../../IDE/uiEditor/uiComponent/Label/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/Label/readme.html">
            
                    
                    Label
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.3" data-path="../../IDE/uiEditor/uiComponent/TextInput/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/TextInput/readme.html">
            
                    
                    TextInput
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.3.1" data-path="../../IDE/uiEditor/uiComponent/TextArea/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/TextArea/readme.html">
            
                    
                    TextArea
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.4" data-path="../../IDE/uiEditor/uiComponent/Clip/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/Clip/readme.html">
            
                    
                    Clip
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.4.1" data-path="../../IDE/uiEditor/uiComponent/FontClip/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/FontClip/readme.html">
            
                    
                    FontClip
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.5" data-path="../../IDE/uiEditor/uiComponent/Button/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/Button/readme.html">
            
                    
                    Button
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.6" data-path="../../IDE/uiEditor/uiComponent/scroll/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/scroll/readme.html">
            
                    
                    scroll
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.6.1" data-path="../../IDE/uiEditor/uiComponent/HScrollBar/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/HScrollBar/readme.html">
            
                    
                    HScrollBar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.6.2" data-path="../../IDE/uiEditor/uiComponent/VScrollBar/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/VScrollBar/readme.html">
            
                    
                    VScrollBar
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.7" data-path="../../IDE/uiEditor/uiComponent/slider/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/slider/readme.html">
            
                    
                    slider
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.7.1" data-path="../../IDE/uiEditor/uiComponent/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/readme.html">
            
                    
                    HSlider
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.7.2" data-path="../../IDE/uiEditor/uiComponent/VSlider/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/VSlider/readme.html">
            
                    
                    VSlider
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.8" data-path="../../IDE/uiEditor/uiComponent/ProgressBar/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/ProgressBar/readme.html">
            
                    
                    ProgressBar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.9" data-path="../../IDE/uiEditor/uiComponent/Box/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/Box/readme.html">
            
                    
                    Box
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.9.1" data-path="../../IDE/uiEditor/uiComponent/HBoox/readme.md">
            
                <span>
            
                    
                    HBoox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.9.2" data-path="../../IDE/uiEditor/uiComponent/VBox/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/VBox/readme.html">
            
                    
                    VBox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.9.3" data-path="../../IDE/uiEditor/uiComponent/Panel/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/Panel/readme.html">
            
                    
                    Panel
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.10" data-path="../../IDE/uiEditor/uiComponent/List/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/List/readme.html">
            
                    
                    List
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.10.1" data-path="../../IDE/uiEditor/uiComponent/Tree/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/Tree/readme.html">
            
                    
                    Tree
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.11" data-path="../../IDE/uiEditor/uiComponent/optionBox/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/optionBox/readme.html">
            
                    
                    optionBox
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.11.1" data-path="../../IDE/uiEditor/uiComponent/ComboBox/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/ComboBox/readme.html">
            
                    
                    ComboBox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.11.2" data-path="../../IDE/uiEditor/uiComponent/Radio/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/Radio/readme.html">
            
                    
                    Radio
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.11.3" data-path="../../IDE/uiEditor/uiComponent/RadioGroup/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/RadioGroup/readme.html">
            
                    
                    RadioGroup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.11.4" data-path="../../IDE/uiEditor/uiComponent/CheckBox/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/CheckBox/readme.html">
            
                    
                    CheckBox
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.12" data-path="../../IDE/uiEditor/uiComponent/navigationMenu/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/navigationMenu/readme.html">
            
                    
                    Navigation Menu
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.12.1" data-path="../../IDE/uiEditor/uiComponent/Tab/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/Tab/readme.html">
            
                    
                    Tab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.12.2" data-path="../../IDE/uiEditor/uiComponent/ViewStack/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/ViewStack/readme.html">
            
                    
                    ViewStack
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.13" data-path="../../IDE/uiEditor/uiComponent/ColorPicker/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/ColorPicker/readme.html">
            
                    
                    ColorPicker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.14" data-path="../../IDE/uiEditor/uiComponent/OpenDataContextView/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/OpenDataContextView/readme.html">
            
                    
                    OpenDataContextView
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.15" data-path="../../IDE/uiEditor/Dialog/readme.html">
            
                <a href="../../IDE/uiEditor/Dialog/readme.html">
            
                    
                    Dialog
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.3" data-path="../../IDE/uiEditor/uiComponent/skeleton/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/skeleton/readme.html">
            
                    
                    skeleton
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.3.1" data-path="../../IDE/uiEditor/uiComponent/skeleton/spine/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/skeleton/spine/readme.html">
            
                    
                    spine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.3.2" data-path="../../IDE/uiEditor/uiComponent/skeleton/sk/readme.html">
            
                <a href="../../IDE/uiEditor/uiComponent/skeleton/sk/readme.html">
            
                    
                    sk
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.3" data-path="../../IDE/uiEditor/readme.html">
            
                <a href="../../IDE/uiEditor/readme.html">
            
                    
                    graphics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.4" data-path="../../IDE/uiEditor/Filter/readme.html">
            
                <a href="../../IDE/uiEditor/Filter/readme.html">
            
                    
                    Filter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.5" data-path="../../IDE/uiEditor/runtime/readme.html">
            
                <a href="../../IDE/uiEditor/runtime/readme.html">
            
                    
                    runtime
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.6" data-path="../../IDE/uiEditor/use3D/readme.html">
            
                <a href="../../IDE/uiEditor/use3D/readme.html">
            
                    
                    use3D
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.7" data-path="../../IDE/uiEditor/textureCompress/readme.html">
            
                <a href="../../IDE/uiEditor/textureCompress/readme.html">
            
                    
                    textureCompress
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.8" data-path="../../IDE/uiEditor/3DUI/readme.html">
            
                <a href="../../IDE/uiEditor/3DUI/readme.html">
            
                    
                    3D UI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../IDE/sceneEditor/readme.html">
            
                <a href="../../IDE/sceneEditor/readme.html">
            
                    
                    Scene Editor
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="../../IDE/sceneEditor/basic/readme.html">
            
                <a href="../../IDE/sceneEditor/basic/readme.html">
            
                    
                    Basic Interaction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="../../3D/Sprite3D/readme.html">
            
                <a href="../../3D/Sprite3D/readme.html">
            
                    
                    Sprite3D
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="../../3D/displayObject/readme.html">
            
                <a href="../../3D/displayObject/readme.html">
            
                    
                    Display Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4" data-path="../../3D/Camera/readme.html">
            
                <a href="../../3D/Camera/readme.html">
            
                    
                    Camera
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.5" data-path="../../3D/Light/readme.html">
            
                <a href="../../3D/Light/readme.html">
            
                    
                    Light
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.6" data-path="../../IDE/sceneEditor/environment/readme.html">
            
                <a href="../../IDE/sceneEditor/environment/readme.html">
            
                    
                    environment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.7" data-path="../../3D/useModel/readme.html">
            
                <a href="../../3D/useModel/readme.html">
            
                    
                    useModel
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../IDE/animationEditor/readme.html">
            
                <a href="../../IDE/animationEditor/readme.html">
            
                    
                    Animation Editor
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../../IDE/animationEditor/timelineGUI/readme.html">
            
                <a href="../../IDE/animationEditor/timelineGUI/readme.html">
            
                    
                    timeline GUI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.2" data-path="../../IDE/animationEditor/aniController/readme.html">
            
                <a href="../../IDE/animationEditor/aniController/readme.html">
            
                    
                    Animation Controller
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.3" data-path="../../IDE/animationEditor/aniBake/readme.html">
            
                <a href="../../IDE/animationEditor/aniBake/readme.html">
            
                    
                    Animation Bake
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../../IDE/particleEditor/readme.html">
            
                <a href="../../IDE/particleEditor/readme.html">
            
                    
                    Particle Editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../../IDE/materialEditor/readme.html">
            
                <a href="../../IDE/materialEditor/readme.html">
            
                    
                    Material Editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../../IDE/ShaderBlueprint/readme.html">
            
                <a href="../../IDE/ShaderBlueprint/readme.html">
            
                    
                    Shader Blueprint
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../../IDE/Component/readme.html">
            
                <a href="../../IDE/Component/readme.html">
            
                    
                    Component
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.7.1" data-path="../../IDE/Component/Mesh/readme.html">
            
                <a href="../../IDE/Component/Mesh/readme.html">
            
                    
                    Mesh
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.2" data-path="../../IDE/Component/Trail/readme.html">
            
                <a href="../../IDE/Component/Trail/readme.html">
            
                    
                    Trail
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.3" data-path="../../IDE/Component/PixelLine/readme.html">
            
                <a href="../../IDE/Component/PixelLine/readme.html">
            
                    
                    Pixel Line
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.4" data-path="../../IDE/Component/ReflectionProbe/readme.html">
            
                <a href="../../IDE/Component/ReflectionProbe/readme.html">
            
                    
                    Reflection Probe
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.5" data-path="../../IDE/Component/VolumetricGI/readme.html">
            
                <a href="../../IDE/Component/VolumetricGI/readme.html">
            
                    
                    Volumetric GI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.6" data-path="../../IDE/Component/StaticBatchVolume/readme.html">
            
                <a href="../../IDE/Component/StaticBatchVolume/readme.html">
            
                    
                    StaticBatchVolume
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.7" data-path="../../IDE/Component/LOD/readme.html">
            
                <a href="../../IDE/Component/LOD/readme.html">
            
                    
                    LOD Group
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../../IDE/prefab/readme.html">
            
                <a href="../../IDE/prefab/readme.html">
            
                    
                    prefab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="../../IDE/layapackage/readme.html">
            
                <a href="../../IDE/layapackage/readme.html">
            
                    
                    layapackage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.9.1" data-path="../../IDE/layapackage/plug-in/readme.html">
            
                <a href="../../IDE/layapackage/plug-in/readme.html">
            
                    
                    plug-in
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9.2" data-path="../../IDE/layapackage/pluginImport/readme.html">
            
                <a href="../../IDE/layapackage/pluginImport/readme.html">
            
                    
                    Plugin Import
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9.3" data-path="../../IDE/layapackage/Layabox/readme.html">
            
                <a href="../../IDE/layapackage/Layabox/readme.html">
            
                    
                    Official Plugins
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.9.3.1" data-path="../../IDE/layapackage/Layabox/LOD/readme.html">
            
                <a href="../../IDE/layapackage/Layabox/LOD/readme.html">
            
                    
                    LOD Reduction Plugin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    advanced
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../advanced/readme.html">
            
                <a href="../advanced/readme.html">
            
                    
                    Advanced 2D
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../advanced/useText/readme.html">
            
                <a href="../advanced/useText/readme.html">
            
                    
                    use Text
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="../TiledMap/readme.html">
            
                <a href="../TiledMap/readme.html">
            
                    
                    TiledMap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="../performanceOptimization/readme.html">
            
                <a href="../performanceOptimization/readme.html">
            
                    
                    performance Optimization
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.1.4" data-path="readme.html">
            
                <a href="readme.html">
            
                    
                    DOM
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../3D/advanced/readme.html">
            
                <a href="../../3D/advanced/readme.html">
            
                    
                    Advanced 3D
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../../3D/advanced/customShader/readme.html">
            
                <a href="../../3D/advanced/customShader/readme.html">
            
                    
                    Custom Shader
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../../3D/advanced/PostProcessing/readme.html">
            
                <a href="../../3D/advanced/PostProcessing/readme.html">
            
                    
                    Post Processing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../../3D/advanced/CommandBuffer/readme.html">
            
                <a href="../../3D/advanced/CommandBuffer/readme.html">
            
                    
                    Command Buffer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="../../3D/advanced/performanceOptimization/readme.html">
            
                <a href="../../3D/advanced/performanceOptimization/readme.html">
            
                    
                    performance Optimization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.5" data-path="../../3D/WebXR/readme.html">
            
                <a href="../../3D/WebXR/readme.html">
            
                    
                    WebXR
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.6" data-path="../../3D/advanced/Unity/readme.html">
            
                <a href="../../3D/advanced/Unity/readme.html">
            
                    
                    Unity Resource Plugin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Publishing
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../released/generalSetting/readme.html">
            
                <a href="../../released/generalSetting/readme.html">
            
                    
                    General Setting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../released/web/readme.html">
            
                <a href="../../released/web/readme.html">
            
                    
                    Web
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../released/miniGame/readme.html">
            
                <a href="../../released/miniGame/readme.html">
            
                    
                    miniGame
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.1" data-path="../../released/miniGame/wechat/readme.html">
            
                <a href="../../released/miniGame/wechat/readme.html">
            
                    
                    wechat
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.2" data-path="../../released/miniGame/byteDance/readme.html">
            
                <a href="../../released/miniGame/byteDance/readme.html">
            
                    
                    tiktok
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.3" data-path="../../released/miniGame/OPPO/readme.html">
            
                <a href="../../released/miniGame/OPPO/readme.html">
            
                    
                    OPPO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.4" data-path="../../released/miniGame/vivo/readme.html">
            
                <a href="../../released/miniGame/vivo/readme.html">
            
                    
                    vivo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.5" data-path="../../released/miniGame/xiaomi/readme.html">
            
                <a href="../../released/miniGame/xiaomi/readme.html">
            
                    
                    xiaomi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.6" data-path="../../released/miniGame/alipaygame/readme.html">
            
                <a href="../../released/miniGame/alipaygame/readme.html">
            
                    
                    alipaygame
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../../released/native/LayaNative_Introduction/readme.html">
            
                <a href="../../released/native/LayaNative_Introduction/readme.html">
            
                    
                    Native
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.1" data-path="../../released/native/native_index/readme.html">
            
                <a href="../../released/native/native_index/readme.html">
            
                    
                    native index
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.2" data-path="../../released/native/build_Tool/readme.html">
            
                <a href="../../released/native/build_Tool/readme.html">
            
                    
                    build Tool
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.3" data-path="../../released/native/screen_orientation/readme.html">
            
                <a href="../../released/native/screen_orientation/readme.html">
            
                    
                    screen orientation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.4" data-path="../../released/native/loading_view_new/readme.html">
            
                <a href="../../released/native/loading_view_new/readme.html">
            
                    
                    Loading View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.5" data-path="../../released/native/network/readme.html">
            
                <a href="../../released/native/network/readme.html">
            
                    
                    network
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.6" data-path="../../released/native/LocalStrorage/readme.html">
            
                <a href="../../released/native/LocalStrorage/readme.html">
            
                    
                    Local Storage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.7" data-path="../../released/native/Android_BackPress/readme.html">
            
                <a href="../../released/native/Android_BackPress/readme.html">
            
                    
                    Android BackPress
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.8" data-path="../../released/native/real_device_debugging/readme.html">
            
                <a href="../../released/native/real_device_debugging/readme.html">
            
                    
                    Debugging JS on Android
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.9" data-path="../../released/native/LayaDcc_Tool/readme.html">
            
                <a href="../../released/native/LayaDcc_Tool/readme.html">
            
                    
                    LayaDcc Tool
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.10" data-path="../../released/native/Secondary_Development/readme.html">
            
                <a href="../../released/native/Secondary_Development/readme.html">
            
                    
                    Secondary Development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.11" data-path="../../released/native/webview/readme.html">
            
                <a href="../../released/native/webview/readme.html">
            
                    
                    webview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.12" data-path="../../released/native/built_in_font/readme.html">
            
                <a href="../../released/native/built_in_font/readme.html">
            
                    
                    Fonts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.13" data-path="../../released/native/zipUpdate/readme.html">
            
                <a href="../../released/native/zipUpdate/readme.html">
            
                    
                    zip Update
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.14" data-path="../../released/native/apk_expansion/readme.html">
            
                <a href="../../released/native/apk_expansion/readme.html">
            
                    
                    APK Expansion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.15" data-path="../../released/native/build_Cmd/readme.html">
            
                <a href="../../released/native/build_Cmd/readme.html">
            
                    
                    Command
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.16" data-path="../../released/native/Other_settings/readme.html">
            
                <a href="../../released/native/Other_settings/readme.html">
            
                    
                    Other
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >DOM</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#layaair-and-native-dom"><b></b>LayaAir and native Dom</a></li><ul><ul><li><span class="title-icon "></span><a href="#svg-of-layaair"><b></b>SVG of LayaAir</a></li><li><span class="title-icon "></span><a href="#dom-element-image-of-layaair"><b></b>Dom element Image of LayaAir</a></li><li><span class="title-icon "></span><a href="#dom-element-video-of-layaair"><b></b>Dom element video of LayaAir</a></li><li><span class="title-icon "></span><a href="#layaairs-dom-element-file"><b></b>LayaAir&apos;s dom element File</a></li><li><span class="title-icon "></span><a href="#layaairs-dom-element-script-tag"><b></b>LayaAir&apos;s dom element script tag</a></li><li><span class="title-icon "></span><a href="#layaairs-dom-element-iframe"><b></b>LayaAir&apos;s dom element iframe</a></li></ul></ul></ul></div><a href="#layaair-and-native-dom" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="layaair-and-native-dom"><a name="layaair-and-native-dom" class="anchor-navigation-ex-anchor" href="#layaair-and-native-dom"><i class="fa fa-link" aria-hidden="true"></i></a>LayaAir and native Dom</h1>
<p>In development projects, developers will inevitably encounter DOM element support, but it is not supported or the support is incomplete in LayaAir. So in this section we will take a look at some techniques encountered in development.</p>
<h3 id="svg-of-layaair"><a name="svg-of-layaair" class="anchor-navigation-ex-anchor" href="#svg-of-layaair"><i class="fa fa-link" aria-hidden="true"></i></a>SVG of LayaAir</h3>
<p>What is svg? Probably most developers have heard of this term, or know that it is a vector image description format specified by w3c. We will not describe some definitions and history of svg here. Interested developers can refer to <a href="https://ldc.layabox.com/doc/?nav=zh-as-3-4-1" target="_blank">here</a>. But it is rarely used in projects. However, the power of svg cannot be ignored. Some simple graphics can be described in a few lines of text without the need for network loading. For example, rich artistic characters, strange-shaped graphics, text perspective effects, etc. may be difficult to implement using programs, such as the following:</p>
<p><img src="img/1.png" alt="1"></p>
<p>What to do if there is this kind of text in your project? Maybe what we think of is art producing pictures. Is there an easier way? Here we choose to use svg for processing. We know that using div+css styles in dom elements to display this effect is the simplest and fastest way. So let&apos;s use css styles to show this effect. Let&apos;s see how a simple script can achieve this effect.</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token string">&apos;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;200&quot; height=&quot;200&quot;&gt;&apos;</span> <span class="token operator">+</span>
           <span class="token string">&apos;&lt;foreignObject width=&quot;100%&quot; height=&quot;100%&quot;&gt;&apos;</span> <span class="token operator">+</span>
           <span class="token string">&apos;&lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot; style=&quot;font-size:40px&quot;&gt;&apos;</span> <span class="token operator">+</span>
             <span class="token string">&apos;&lt;em&gt;I&lt;/em&gt; like &apos;</span> <span class="token operator">+</span>
             <span class="token string">&apos;&lt;span style=&quot;color:white; text-shadow: 0px 1px 0px #999, 0px 2px 0px #888, 0px 3px 0px #777, 0px 4px 0px #666, 0px 5px 0px #555, 0px 6px 0px #444, 0px 7px 0px #333, 0px 8px 7px #001135;&quot;&gt;&apos;</span> <span class="token operator">+</span>
             <span class="token string">&apos;cheese&lt;/span&gt;&apos;</span> <span class="token operator">+</span>
           <span class="token string">&apos;&lt;/div&gt;&apos;</span> <span class="token operator">+</span>
           <span class="token string">&apos;&lt;/foreignObject&gt;&apos;</span> <span class="token operator">+</span>
           <span class="token string">&apos;&lt;/svg&gt;&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token constant">DOMURL</span> <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token constant">URL</span> <span class="token operator">||</span> window<span class="token punctuation">.</span>webkitURL <span class="token operator">||</span> window<span class="token punctuation">;</span>
<span class="token keyword">var</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> svg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>data<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&apos;image/svg+xml&apos;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token constant">DOMURL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>svg<span class="token punctuation">)</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> url<span class="token punctuation">;</span>
img<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span><span class="token string">&quot;absolute&quot;</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>style<span class="token punctuation">.</span>zIndex <span class="token operator">=</span> <span class="token number">99999</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>How to run the above code? Open Google Chrome, open a blank web page, F12, paste the above code into the console, and then press Enter, you can see the effect of the screenshot above. Or create a new html, paste the code in it, and open it with a browser. Isn&apos;t it very simple? Then we can modify the displayed text arbitrarily. Developers can modify it and try it out to see the effect. Let&#x2019;s briefly introduce this code. Among them, data is the data format of svg. For this, please refer to the definition and description of svg.</p>
<pre class="language-"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span>white<span class="token punctuation">;</span> <span class="token property">text-shadow</span><span class="token punctuation">:</span> 0px 1px 0px #999<span class="token punctuation">,</span> 0px 2px 0px #888<span class="token punctuation">,</span> 0px 3px 0px #777<span class="token punctuation">,</span> 0px 4px 0px #666<span class="token punctuation">,</span> 0px 5px 0px #555<span class="token punctuation">,</span> 0px 6px 0px #444<span class="token punctuation">,</span> 0px 7px 0px #333<span class="token punctuation">,</span> 0px 8px 7px #001135<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
//Here is the key point. We set the text effect through the css style supported by svg. Text-shadow sets the css style effect of the text. If the developer wants to change the text style, he can modify the style.
</code></pre><p>The above is in JavaScript, using the native dom element img for display, so what should we do if we want to use it in the game? This is actually very simple. Now that we have used img to display it on the page, the next thing we have to do is how to apply and display this img in the project. Let&apos;s create a new project. The code looks like this:</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">var</span> data<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;data:image/svg+xml,&quot;</span> <span class="token operator">+</span> <span class="token string">&apos;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;200&quot; height=&quot;200&quot;&gt;&apos;</span> <span class="token operator">+</span>
    <span class="token string">&apos;&lt;foreignObject width=&quot;100%&quot; height=&quot;100%&quot;&gt;&apos;</span> <span class="token operator">+</span>
    <span class="token string">&apos;&lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot; style=&quot;font-size:40px&quot;&gt;&apos;</span> <span class="token operator">+</span>
    <span class="token string">&apos;&lt;em&gt;I&lt;/em&gt; like &apos;</span> <span class="token operator">+</span>
    <span class="token string">&apos;&lt;span style=&quot;color:white; text-shadow: 0px 1px 0px #999, 0px 2px 0px #888, 0px 3px 0px #777, 0px 4px 0px #666, 0px 5px 0px #555, 0px 6px 0px #444, 0px 7px 0px #333, 0px 8px 7px #001135;&quot;&gt;&apos;</span> <span class="token operator">+</span>
    <span class="token string">&apos;cheese&lt;/span&gt;&apos;</span> <span class="token operator">+</span>
    <span class="token string">&apos;&lt;/div&gt;&apos;</span> <span class="token operator">+</span>
    <span class="token string">&apos;&lt;/foreignObject&gt;&apos;</span> <span class="token operator">+</span>
    <span class="token string">&apos;&lt;/svg&gt;&apos;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> sp<span class="token operator">:</span> Laya<span class="token punctuation">.</span>Sprite <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">Sprite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sp<span class="token punctuation">.</span><span class="token function">loadImage</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">addChild</span><span class="token punctuation">(</span>sp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Pass the data as the URL to the loadImage method, and the engine will help us load, decode and display it. The parameters in the loadImage method not only receive the URL of the address, but also receive the base64 and svg formats. Compile and run the above code and we see the effect in the picture below.</p>
<p><img src="img/2.png" alt="2"></p>
<p>Summary: The above code gives us a good inspiration. In the project, our special artistic words can be simpler and more convenient using this method. Developers can find some more gorgeous effects on their own, such as 3D perspective effects, mixed graphics and text, shadows, reflections, etc. This method not only reduces the bandwidth of the network, but more importantly, makes it easier for us to modify it from time to time. Once a style is set, it can be applied when exporting in the project. Would it be more efficient and faster if the above method was used instead of bitmap fonts?</p>
<h3 id="dom-element-image-of-layaair"><a name="dom-element-image-of-layaair" class="anchor-navigation-ex-anchor" href="#dom-element-image-of-layaair"><i class="fa fa-link" aria-hidden="true"></i></a>Dom element Image of LayaAir</h3>
<p>In HTML5, the image tag is powerful. We don&#x2019;t want to introduce too much about its features here. Here we introduce simple common forms.</p>
<h4 id="qr-code"><a name="qr-code" class="anchor-navigation-ex-anchor" href="#qr-code"><i class="fa fa-link" aria-hidden="true"></i></a>QR code</h4>
<p>One of the more common functions is to display the current QR code address in the project. The user can recognize it by long pressing. To generate a QR code here, we use a third-party js library to generate a QR code. The class library code can be downloaded from GitHub. This [address] is used here (<a href="https://github.com/davidshimjs/qrcodejs" target="_blank">https://github.com/davidshimjs/qrcodejs</a>).</p>
<p>Create a new project and add the downloaded qrcode.js to index.html. For the API of qrcode, please refer to <a href="https://github.com/davidshimjs/qrcodejs" target="_blank">address</a>. The specific logic code is as follows:</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">var</span> div<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>qrcode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">QRCode</span><span class="token punctuation">(</span>div<span class="token punctuation">,</span><span class="token punctuation">{</span>
    width<span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span>
    height<span class="token operator">:</span><span class="token number">100</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> url<span class="token operator">:</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;http://layabox.com/&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>qrcode<span class="token punctuation">.</span><span class="token function">makeCode</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">once</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>clickHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>qrcodeSp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">Sprite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">addChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>qrcodeSp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Compile and run the above code, then click on the stage to see that the QR code has been displayed on the stage. You can scan it with your mobile phone and find that your mobile phone has jumped to the official website. <strong>Note: The QR code generated at this time has no response when long pressed in WeChat or the browser, because the QR code generates a canvas tag instead of an image tag. </strong>So if you want to long press to pop up the recognition option, you can only use the image tag. This can be extended by developers themselves.</p>
<h3 id="dom-element-video-of-layaair"><a name="dom-element-video-of-layaair" class="anchor-navigation-ex-anchor" href="#dom-element-video-of-layaair"><i class="fa fa-link" aria-hidden="true"></i></a>Dom element video of LayaAir</h3>
<h4 id="live-video"><a name="live-video" class="anchor-navigation-ex-anchor" href="#live-video"><i class="fa fa-link" aria-hidden="true"></i></a>Live video</h4>
<p>In the HTML5 era, video playback basically uses the video tag. If you don&#x2019;t have rich experience in video playback, the best choice is to use a mature playback plug-in. The currently popular ones are <a href="https://github.com/videojs/video.js" target="_blank">video.js</a>, <a href="https://github.com/video-dev/hls.js" target="_blank">hls.js</a>, <a href="https://github.com/Selz/plyr" target="_blank">plyr .js</a>. It is excellent in terms of compatibility, experience and performance. Official demos of these plug-ins are provided. For example, <a href="https://plyr.io/" target="_blank">https://plyr.io/</a>, <a href="http://video-dev.github.io/hls.js/demo/" target="_blank">http://video-dev.github.io/hls.js/demo/</a>, <a href="http://codepen.io/sampotts/pen/JKEMqB" target="_blank">http://codepen.io/sampotts/pen/JKEMqB</a>.</p>
<p>Let&apos;s take <a href="http://codepen.io/sampotts/pen/JKEMqB" target="_blank">Plyr + hls.js</a> as an example to see how we should write it in LayaAir.</p>
<p>Add the following code to the index.html file:</p>
<p><img src="img/3.png" alt="3"></p>
<p><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.plyr.io/1.8.2/plyr.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></code>Player style file,</p>
<p><video preload="none" id="player" autoplay controls crossorigin=""></video>Add video tag. Name the id &quot;player&quot;, which we will use in the program later.</p>
<script src="https://cdn.plyr.io/1.8.2/plyr.js"></script>
<script src="https://cdn.jsdelivr.net/hls.js/latest/hls.js"></script>

<p>This is the class library used by the player. Developers remember to download it to their own projects or servers in the production environment.</p>
<p>The following is the logic of the main class:</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">class</span> <span class="token class-name">LayaUISample</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//Initialize the engine</span>
        Free<span class="token punctuation">.</span><span class="token function">heat</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> Hls<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>window<span class="token punctuation">.</span>Hls<span class="token punctuation">;</span><span class="token comment">//Get a reference to Hls.</span>
        <span class="token keyword">var</span> plyr<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>window<span class="token punctuation">.</span>plyr<span class="token punctuation">;</span><span class="token comment">//Get a reference to plyr</span>
        <span class="token comment">//Get the video object, which is the tag named &quot;player&quot; on the page</span>
        <span class="token keyword">var</span> video<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;#player&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>Hls<span class="token punctuation">.</span><span class="token function">isSupported</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">var</span> hls<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//Load m3u8 source</span>
            hls<span class="token punctuation">.</span><span class="token function">loadSource</span><span class="token punctuation">(</span><span class="token string">&apos;http://content.jwplatform.com/manifests/vM7nH0Kl.m3u8&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            hls<span class="token punctuation">.</span><span class="token function">attachMedia</span><span class="token punctuation">(</span>video<span class="token punctuation">)</span><span class="token punctuation">;</span>
            hls<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>Hls<span class="token punctuation">.</span>Events<span class="token punctuation">.</span><span class="token constant">MANIFEST_PARSED</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
                    video<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        plyr<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span>video<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">new</span> <span class="token class-name">LayaUISample</span><span class="token punctuation">;</span>
</code></pre>
<p>Compile and run the code and find that the webpage can already play videos. Developers may notice that when we initialize the engine here, it looks like this:</p>
<p><code>Laya.init(0,0);//Initialize the engine</code>;Set the size to 0 because we have no interaction with the stage here. So we set it to 0 here, we don&apos;t even need to initialize it. If the developer&apos;s project contains logic that interacts with the stage, you can set the size that suits you.</p>
<p>During the playback process, developers can open Google&apos;s console with F12, switch to the Network tab and see that our video is a ts file.</p>
<p><img src="img/4.png" alt="4"></p>
<p>As the playback progresses, more and more files are found. In fact, this is playback based on the <a href="https://developer.apple.com/streaming/" target="_blank">hls</a> protocol. The basic principle of this technology is to cut video files or video streams into small pieces (ts) and create index files (m3u8). For deeper principles, such as video decoding and video frame data, developers can refer to the following:</p>
<p><a href="https://developer.apple.com/streaming/" target="_blank">https://developer.apple.com/streaming/</a></p>
<p><a href="https://developer.mozilla.org/zh_CN/docs/Web/API/MediaSource" target="_blank">https://developer.mozilla.org/zh_CN/docs/Web/API/MediaSource</a></p>
<p><a href="https://github.com/nickdesaulniers/netfix" target="_blank">https://github.com/nickdesaulniers/netfix</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement</a></p>
<p>In the above example, we use hls+plyr to play. For other methods, developers please refer to this tutorial for expansion.</p>
<h4 id="camera"><a name="camera" class="anchor-navigation-ex-anchor" href="#camera"><i class="fa fa-link" aria-hidden="true"></i></a>Camera</h4>
<p>The support of HTML5 video as a camera browser is limited, and it requires <strong>https protocol</strong>. The support of Google and the new version of WeChat is still good. If your compatibility requirements are not that high, you can try adding the camera function.</p>
<p>Let&apos;s first look at the example given on mdn.</p>
<p><a href="https://mdn.github.io/webaudio-examples/stream-source-buffer/" target="_blank">https://mdn.github.io/webaudio-examples/stream-source-buffer/</a></p>
<p>The developer uses a mobile phone or WeChat to open this address to test the support of your mobile phone.</p>
<p><img src="img/5.png" alt="5"></p>
<p>This is a test connection, and the protocol is https. Developers should pay attention to this when calling the camera. Your remote address must be https.</p>
<p>For more information, please refer here: <a href="https://github.com/mdn/webaudio-examples" target="_blank">https://github.com/mdn/webaudio-examples</a> The link here is the sound and video examples given by mdn.</p>
<p>LayaAir also has corresponding packages for cameras. Let&#x2019;s take a look at how to use them.</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> video<span class="token operator">:</span>Laya<span class="token punctuation">.</span>Video<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//Initialize the engine</span>
        Laya<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>width<span class="token punctuation">,</span>Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>Media<span class="token punctuation">.</span><span class="token function">supported</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;The current browser does not support&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">showMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> options<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
                audio<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                video<span class="token operator">:</span><span class="token punctuation">{</span>
                    facingMode<span class="token operator">:</span> <span class="token punctuation">{</span> exact<span class="token operator">:</span> <span class="token string">&quot;environment&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// Rear camera, the default value is, you can also not set it to.</span>
                    width<span class="token operator">:</span> Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>width<span class="token punctuation">,</span>
                    height<span class="token operator">:</span>Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>height
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            Laya<span class="token punctuation">.</span>Media<span class="token punctuation">.</span><span class="token function">getMedia</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span>Laya<span class="token punctuation">.</span>Handler<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>onSuccess<span class="token punctuation">)</span><span class="token punctuation">,</span>Laya<span class="token punctuation">.</span>Handler<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>onError<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token function">showMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> eg<span class="token operator">:</span>Laya<span class="token punctuation">.</span>Text <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">Text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">addChild</span><span class="token punctuation">(</span>tex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        tex<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">&quot;Click the stage to play and pause&quot;</span><span class="token punctuation">;</span>
        tex<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">&quot;#ffffff&quot;</span><span class="token punctuation">;</span>
        tex<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
        tex<span class="token punctuation">.</span>valign <span class="token operator">=</span> <span class="token string">&quot;middle&quot;</span><span class="token punctuation">;</span>
        tex<span class="token punctuation">.</span>align <span class="token operator">=</span> <span class="token string">&quot;center&quot;</span><span class="token punctuation">;</span>
        tex<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>width<span class="token punctuation">,</span>Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span>url<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>video <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">Video</span><span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>width<span class="token punctuation">,</span>Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>video<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">addChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>video<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>onStageClick<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token function">onerror</span><span class="token punctuation">(</span>error<span class="token operator">:</span>Error<span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token function">onStageClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
        <span class="token comment">//Switch play and pause</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>video<span class="token punctuation">.</span>paused<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>video<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>video<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">new</span> <span class="token class-name">Main</span><span class="token punctuation">;</span>
</code></pre>
<p>Compile and run the above example and find that it cannot be opened. This is normal. To run this example, you need to build an https server yourself. Then use your mobile phone to open the index.html corresponding to this address. It is also very simple to build a simple https server. Here we can use Laya&apos;s command line tool.</p>
<ul>
<li><p>Download address <a href="https://nodejs.org/en/" target="_blank">https://nodejs.org/en/</a> for installation.</p>
</li>
<li><p>After the installation is complete, open the cmd command line, enter npm install -g layacmd and wait for the installation to complete.</p>
</li>
<li><p>Find the index.html we just compiled. Hold down shift+right click to open the cmd window here and enter layacmd open, and then a static server of http and htpps will be started. According to the address output from the command line, we then use the mobile Google Chrome or WeChat to access this address. For example, here is <a href="https://10.10.20.34:8001/index.html" target="_blank">https://10.10.20.34:8001/index.html</a>.</p>
</li>
</ul>
<h3 id="layaairs-dom-element-file"><a name="layaairs-dom-element-file" class="anchor-navigation-ex-anchor" href="#layaairs-dom-element-file"><i class="fa fa-link" aria-hidden="true"></i></a>LayaAir&apos;s dom element File</h3>
<p>In project development, we may need to allow users to upload pictures. We need to use the file tag of html5 for this (<strong>WeChat needs to use the interface provided by WeChat. We will talk about the following tutorials specifically in the WeChat tutorial. Other browsers may also have compatibility issues</strong>). Below we write a simple example.</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> video<span class="token operator">:</span>Laya<span class="token punctuation">.</span>Video<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//Initialize the engine</span>
        Laya<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> file<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        file<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;file&quot;</span><span class="token punctuation">;</span>
        file<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">&quot;absolute&quot;</span><span class="token punctuation">;</span>
        file<span class="token punctuation">.</span>style<span class="token punctuation">.</span>zIndex <span class="token operator">=</span> <span class="token number">999</span><span class="token punctuation">;</span>
        Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Add to the stage</span>
        <span class="token keyword">var</span> fileReader<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">new</span>  <span class="token class-name">Laya</span><span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        file<span class="token punctuation">.</span><span class="token function-variable function">onchange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token operator">:</span><span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>files<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>
                fileReader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        fileReader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
        <span class="token punctuation">{</span>  
            <span class="token keyword">if</span><span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>window<span class="token punctuation">.</span>FileReader<span class="token punctuation">.</span><span class="token constant">DONE</span> <span class="token operator">==</span> fileReader<span class="token punctuation">.</span>readyState<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">var</span> sp<span class="token operator">:</span>Laya<span class="token punctuation">.</span>Sprite <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">Sprite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                sp<span class="token punctuation">.</span><span class="token function">loadImage</span><span class="token punctuation">(</span>fileReader<span class="token punctuation">.</span>result<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">addChild</span><span class="token punctuation">(</span>sp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">new</span> <span class="token class-name">Main</span><span class="token punctuation">;</span>
</code></pre>
<p>Compile the above code and click the button. Select a picture file or camera to take a photo, and find that the picture has been displayed on the stage. Then a simple program to call the photo album or camera is completed. But we found this &quot;button&quot; to be very ugly. So how to change the button style? This needs to be handled with the help of css style. The traditional approach is to set the transparency value of this button to 0, and then place a button that overlaps it instead. By changing his style through this illusion, he is actually the one who clicked. It&#x2019;s just that users can&#x2019;t feel it. So let&apos;s modify it and see how to change the style.</p>
<pre class="language-"><code class="lang-typescript"><span class="token comment">//Create a hidden file and align it with the button. The position is consistent. Here we default to the 0 o&apos;clock position.</span>
<span class="token keyword">var</span> file<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Set file style</span>
file<span class="token punctuation">.</span>style<span class="token operator">=</span><span class="token string">&quot;filter:alpha(opacity=0);opacity:0;width: 150px;height:60px;&quot;</span><span class="token punctuation">;</span>
file<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;file&quot;</span><span class="token punctuation">;</span> <span class="token comment">//The setting type is file type.</span>
file<span class="token punctuation">.</span>accept<span class="token operator">=</span><span class="token string">&quot;image/png&quot;</span><span class="token punctuation">;</span><span class="token comment">//Set the file format to png;</span>
file<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span><span class="token string">&quot;absolute&quot;</span><span class="token punctuation">;</span>
file<span class="token punctuation">.</span>style<span class="token punctuation">.</span>zIndex <span class="token operator">=</span> <span class="token number">999</span><span class="token punctuation">;</span>
</code></pre>
<p>Take a look at the complete code below:</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> video<span class="token operator">:</span>Laya<span class="token punctuation">.</span>Video<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//Initialize the engine</span>
        Laya<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> skins<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;res/a.png&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        Laya<span class="token punctuation">.</span>loader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>skins<span class="token punctuation">,</span>Laya<span class="token punctuation">.</span>Handler<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>onUIAssetsLoaded<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token function">onUIAssetsLoaded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> btn<span class="token operator">:</span>Laya<span class="token punctuation">.</span>Button <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">&quot;res/a.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">addChild</span><span class="token punctuation">(</span>btn<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//Create a hidden file and align it with the button. The position is consistent. Here we default to the 0 o&apos;clock position.</span>
        <span class="token keyword">var</span> file<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//Set file style</span>
        file<span class="token punctuation">.</span>style<span class="token operator">=</span><span class="token string">&quot;filter:alpha(opacity=0);opacity:0;width: 150px;height:60px;&quot;</span><span class="token punctuation">;</span>
        file<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;file&quot;</span><span class="token punctuation">;</span> <span class="token comment">//The setting type is file type.</span>
        file<span class="token punctuation">.</span>accept<span class="token operator">=</span><span class="token string">&quot;image/png&quot;</span><span class="token punctuation">;</span><span class="token comment">//Set the file format to png;</span>
        file<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span><span class="token string">&quot;absolute&quot;</span><span class="token punctuation">;</span>
        file<span class="token punctuation">.</span>style<span class="token punctuation">.</span>zIndex <span class="token operator">=</span> <span class="token number">999</span><span class="token punctuation">;</span>
        Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Add to page;</span>
        <span class="token keyword">var</span> fileReader<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">new</span>  <span class="token class-name">Laya</span><span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        file<span class="token punctuation">.</span><span class="token function-variable function">onchange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token operator">:</span><span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>files<span class="token punctuation">.</span>length<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                fileReader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        fileReader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
        <span class="token punctuation">{</span>  
            <span class="token keyword">if</span><span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>window<span class="token punctuation">.</span>FileReader<span class="token punctuation">.</span><span class="token constant">DONE</span> <span class="token operator">==</span> fileReader<span class="token punctuation">.</span>readyState<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">var</span> sp<span class="token operator">:</span>Laya<span class="token punctuation">.</span>Sprite <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">Sprite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                sp<span class="token punctuation">.</span><span class="token function">loadImage</span><span class="token punctuation">(</span>fileReader<span class="token punctuation">.</span>result<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">addChild</span><span class="token punctuation">(</span>sp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">new</span> <span class="token class-name">Main</span><span class="token punctuation">;</span>
</code></pre>
<p>Compile and run the code, and you can see that the ugly dom button is gone. When we click our customized button, we can also select pictures and display them on the stage.</p>
<p>In the above example, we overlapped it at the origin, set the transparency to 0, and disguised it as invisible. Developers can try to put it in other locations for testing. This tutorial does not cover the specific implementation. For other file APIs, please refer to the relevant instructions of mdn and w3c. In addition to displaying on the stage, there may also be uploading operations to the server. In this case, FormData can be used. This developer can try it.</p>
<h3 id="layaairs-dom-element-script-tag"><a name="layaairs-dom-element-script-tag" class="anchor-navigation-ex-anchor" href="#layaairs-dom-element-script-tag"><i class="fa fa-link" aria-hidden="true"></i></a>LayaAir&apos;s dom element script tag</h3>
<p>Sometimes our projects have a lot of large js files. Loading them all at once is not only a waste of traffic, but also causes page lags, resulting in an extremely poor user experience. Although compression and obfuscation can be used to reduce the size, the amount of code will be very large for a slightly larger project. Or the local js file is unnecessary when the first screen is loaded. At this time, we need to load it at the appropriate time, so splitting the files and modules is very necessary. Splitting the file involves out-of-the-box loading. Then the script tag will come in handy at this time.</p>
<p>This function can be achieved by loading the remote script through the script&apos;s src. It can also be achieved by setting the innerHTML of the script. Of course, there is also the third type of eval. Below we explain the usage in each of these situations.</p>
<h4 id="achieved-by-setting-src"><a name="achieved-by-setting-src" class="anchor-navigation-ex-anchor" href="#achieved-by-setting-src"><i class="fa fa-link" aria-hidden="true"></i></a>Achieved by setting src</h4>
<p>Script creation can be added to the page manually or dynamically created through code. Here we take code creation as an example to illustrate. Let&#x2019;s get into the code first.</p>
<p>The code logic is as follows:</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> video<span class="token operator">:</span>Laya<span class="token punctuation">.</span>Video<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//Initialize the engine</span>
        Laya<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> script<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;demo1.js&quot;</span><span class="token punctuation">;</span>
        script<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
            <span class="token comment">//Load the completion function and start calling the module&apos;s functions.</span>
            <span class="token comment">//new an object in js</span>
            <span class="token keyword">var</span> client<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">Demo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            client<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        script<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
            <span class="token comment">//Load error function</span>
        <span class="token punctuation">}</span>
        Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">new</span> <span class="token class-name">Main</span><span class="token punctuation">;</span>
</code></pre>
<p>Then create a new js file, the simple code is as follows:</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">var</span> Demo1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    Client<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">start</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// body...</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Calling method&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Client<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;I was loaded in&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Below we briefly explain these two pieces of code.</p>
<p><code>var script:any = Laya.Browser.document.createElement(&quot;script&quot;);</code>Create a script tag.</p>
<p><code>script.src = &quot;demo1.js&quot;;</code>Set the path of js to be loaded.</p>
<p><code>script.onload = ...</code> and <code>script.onerror =....</code> are callback functions for loading completion and loading failure respectively.</p>
<p><code>Laya.Browser.document.body.appendChild(script);</code>Adds the created script tag to the page.</p>
<p><code>var client:any = new Laya.Browser.window.Demo1();</code>Instantiate the class declared by js.</p>
<p><code>client.start();</code>Calls the function of the instance.</p>
<p>Compile and run the above code. Open Google&apos;s console and you can see the output:</p>
<p><strong>&quot;I&apos;m loaded in&quot;</strong></p>
<p><strong>&quot;Call method&quot;</strong></p>
<h4 id="setting-via-innerhtml-of-script"><a name="setting-via-innerhtml-of-script" class="anchor-navigation-ex-anchor" href="#setting-via-innerhtml-of-script"><i class="fa fa-link" aria-hidden="true"></i></a>Setting via innerHTML of script</h4>
<p>Setting innerHTML is actually assigning the text format of js to innerHTML. We can use the format of the loaded file to convert the remotely loaded file into text content and assign it to the tag. Take a look at an example below.</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> video<span class="token operator">:</span>Laya<span class="token punctuation">.</span>Video<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//Initialize the engine</span>
        Laya<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> httpreq<span class="token operator">:</span>Laya<span class="token punctuation">.</span>HttpRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">HttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        httpreq<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>Event<span class="token punctuation">.</span><span class="token constant">COMPLETE</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>completeHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
        httpreq<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>Event<span class="token punctuation">.</span><span class="token constant">ERROR</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>errorHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
        httpreq<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;demo1.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token function">completeHandler</span><span class="token punctuation">(</span>e<span class="token operator">:</span><span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> script<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
        script<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> e<span class="token punctuation">;</span>
        <span class="token keyword">var</span> client<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">Demo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        client<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token function">errorHandler</span><span class="token punctuation">(</span>e<span class="token operator">:</span><span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">new</span> <span class="token class-name">Main</span><span class="token punctuation">;</span>
</code></pre>
<p>Compile and run the above code, and you can see that the effect is the same as loading with src. This example uses HttpRequest to load a file and then assigns the loaded content to script.innerHTML. The tag parses and executes js by itself. Of course, this example uses HttpRequest to load, and developers can also use the Laya.loader.load method to load.</p>
<h4 id="eval-method-to-load"><a name="eval-method-to-load" class="anchor-navigation-ex-anchor" href="#eval-method-to-load"><i class="fa fa-link" aria-hidden="true"></i></a>eval method to load</h4>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">private</span> <span class="token function">completeHandler</span><span class="token punctuation">(</span>e<span class="token operator">:</span><span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
<span class="token punctuation">{</span>
      Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> client<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">Demo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      client<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code>
We changed the previous loading completion function to `Laya.Browser.window.eval(e);` and then compiled and opened the console and found that the effect was the same. This has nothing to do with the script tag.

Summary: The above three common methods can all realize dynamic loading of js files. What are the differences between the three methods?

- The script tag src loads a js file. This js file can be from a different source than the current page, which means it can be loaded across domains.

- The script.innerHTML method receives the text format of a js file and uses the XMLHttpRequest method to load it, so the file cannot cross domains, or it can only be loaded. The advantage is that the js file can be customized in format, such as encryption. , interspersed with other formats, then loaded in binary format, and decoded into real js in the program.

- The eval method is basically the same as the script.innerHTML method. The content loaded is also very random. However, eval is not recommended. It is an almost abandoned method and is not recommended in terms of performance or security. For specific reasons, please see mdn&#x2019;s explanation.

  [https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/eval&#x3002;](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/eval)

  **In fact, we can also put the loading method into the worker, which further reduces the rendering pressure and lag of the page. Developers can read the worker&apos;s tutorials for divergence. **



### LayaAir&#x2019;s dom element sound

Speaking of the sound of HTML5, developers may first think of the audio tag, but the audio tag is extremely useless for development projects. Today we are talking about another interface. The Audio API provided by HTML5 for JavaScript programming allows us to have Ability to directly operate the original audio stream data in the code and process and recreate it arbitrarily. For audio api, w3c provides me with enough [interface](https://www.w3.org/TR/webaudio/), in [mdn](https://developer.mozilla.org/zh-CN/ docs/Web/API/AudioContext) The above introduction is also more detailed. On browsers with relatively complete support, the sound API can produce extremely rich visual effects. Since the sound API is extremely rich, we will introduce it here and briefly introduce its usage. As for audio synthesis, mixing, sound effects, spectrum analysis of audio data, adding filters to audio, such as improving the timbre, etc. Developers can check mdn or related information. .

Let&#x2019;s first look at an example on mdn. In this example, create a 2-second buffer and fill it with white noise, then pass it to Play it. Its function is explained in the comments.

  ```javascript
  var audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  // Stereo
  var channels = 2;
  // Create an empty two-second stereo buffer at the
  // sample rate of the AudioContext
  var frameCount = audioCtx.sampleRate * 2.0;
  var myArrayBuffer = audioCtx.createBuffer(2, frameCount, audioCtx.sampleRate);
  window.onclick = function() {
      // Fill the buffer with white noise;
      //just random values between -1.0 and 1.0
      for (var channel = 0; channel &lt; channels; channel++) {
          // This gives us the actual ArrayBuffer that contains the data
          var nowBuffering = myArrayBuffer.getChannelData(channel);
          for (var i = 0; i &lt; frameCount; i++) {
              // Math.random() is in [0; 1.0]
              // audio needs to be in [-1.0; 1.0]
              nowBuffering[i] = Math.random() * 2 - 1;
          }
      }
      // Get an AudioBufferSourceNode.
      // This is the AudioNode to use when we want to play an AudioBuffer
      var source = audioCtx.createBufferSource();
      // set the buffer in the AudioBufferSourceNode
      source.buffer = myArrayBuffer;
      // connect the AudioBufferSourceNode to the
      // destination so we can hear the sound
      source.connect(audioCtx.destination);
      // start the source playing
      source.start();
  }
</code></pre><p>Run the above js code, click the page and you will hear the sound played. So how to write it using LayaAir?</p>
<pre class="language-"><code class="lang-typescript">  <span class="token keyword">var</span> audioCtx<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>window<span class="token punctuation">.</span>AudioContext <span class="token operator">||</span> Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>window<span class="token punctuation">.</span>webkitAudioContext<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//Stereo</span>
  <span class="token keyword">var</span> channels<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token comment">// Create an empty two-second stereo buffer at the</span>
  <span class="token comment">// sample rate of the AudioContext</span>
  <span class="token keyword">var</span> frameCount<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> audioCtx<span class="token punctuation">.</span>sampleRate <span class="token operator">*</span> <span class="token number">2.0</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> myArrayBuffer<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> audioCtx<span class="token punctuation">.</span><span class="token function">createBuffer</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> frameCount<span class="token punctuation">,</span> audioCtx<span class="token punctuation">.</span>sampleRate<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>Event<span class="token punctuation">.</span><span class="token constant">CLICK</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
      <span class="token comment">// Fill the buffer with white noise;</span>
      <span class="token comment">//just random values between -1.0 and 1.0</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> channel<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> channel <span class="token operator">&lt;</span> channels<span class="token punctuation">;</span> channel<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// This gives us the actual ArrayBuffer that contains the data</span>
          <span class="token keyword">var</span> nowBuffering<span class="token operator">:</span> Object <span class="token operator">=</span> myArrayBuffer<span class="token punctuation">.</span><span class="token function">getChannelData</span><span class="token punctuation">(</span>channel<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> frameCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// Math.random() is in [0; 1.0]</span>
              <span class="token comment">// audio needs to be in [-1.0; 1.0]</span>
              nowBuffering<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// Get an AudioBufferSourceNode.</span>
      <span class="token comment">// This is the AudioNode to use when we want to play an AudioBuffer</span>
      <span class="token keyword">var</span> source<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> audioCtx<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// set the buffer in the AudioBufferSourceNode</span>
      source<span class="token punctuation">.</span>buffer <span class="token operator">=</span> myArrayBuffer<span class="token punctuation">;</span>
      <span class="token comment">// connect the AudioBufferSourceNode to the</span>
      <span class="token comment">// destination so we can hear the sound</span>
      source<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>audioCtx<span class="token punctuation">.</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// start the source playing</span>
      source<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Compile and run the above example, click the stage, and you will hear the sound played. This example is very simple, just build a sound in memory. So what should I do if it is loaded externally?</p>
<p>In the following example, we load a sound file externally. By the way, let&apos;s draw the frequency spectrum of the sound.</p>
<pre class="language-"><code class="lang-typescript">  <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
      <span class="token keyword">private</span> AudioContext<span class="token operator">:</span><span class="token builtin">any</span><span class="token punctuation">;</span>
      <span class="token keyword">private</span> audioContext<span class="token operator">:</span><span class="token builtin">any</span><span class="token punctuation">;</span>
      <span class="token keyword">private</span> analyser<span class="token operator">:</span><span class="token builtin">any</span><span class="token punctuation">;</span>
      <span class="token keyword">private</span> audioBufferSourceNode<span class="token operator">:</span><span class="token builtin">any</span><span class="token punctuation">;</span>
      <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">//Initialize the engine</span>
          Release<span class="token punctuation">.</span><span class="token function">heat</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          AudioContext <span class="token operator">=</span> Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>window<span class="token punctuation">.</span>AudioContext <span class="token operator">||</span> Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>window<span class="token punctuation">.</span>webkitAudioContext<span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>audioContext <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AudioContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>analyser <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>audioContext<span class="token punctuation">.</span><span class="token function">createAnalyser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>analyser<span class="token punctuation">.</span>fftSize <span class="token operator">=</span> <span class="token number">256</span><span class="token punctuation">;</span>
          Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">once</span><span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>Event<span class="token punctuation">.</span><span class="token constant">CLICK</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>clickHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">private</span> <span class="token function">clickHandler</span><span class="token punctuation">(</span>e<span class="token operator">:</span><span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
      <span class="token punctuation">{</span>
          <span class="token keyword">var</span> http<span class="token operator">:</span>Laya<span class="token punctuation">.</span>HttpRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Laya</span><span class="token punctuation">.</span><span class="token function">HttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          http<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>Laya<span class="token punctuation">.</span>Event<span class="token punctuation">.</span><span class="token constant">COMPLETE</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>completeHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
          http<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;res/3.mp3&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span>Laya<span class="token punctuation">.</span>Loader<span class="token punctuation">.</span><span class="token constant">BUFFER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">private</span> <span class="token function">completeHandler</span><span class="token punctuation">(</span>e<span class="token operator">:</span><span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
      <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>audioContext<span class="token punctuation">.</span><span class="token function">decodeAudioData</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">decodeAudioData</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">private</span> <span class="token function">decodeAudioData</span><span class="token punctuation">(</span>buffer<span class="token operator">:</span><span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
      <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>audioBufferSourceNode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>audioContext<span class="token punctuation">.</span><span class="token function">createBufferSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>audioBufferSourceNode<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>analyser<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>analyser<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>audioContext<span class="token punctuation">.</span>destination<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>audioBufferSourceNode<span class="token punctuation">.</span>buffer <span class="token operator">=</span> buffer<span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>audioBufferSourceNode<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          Laya<span class="token punctuation">.</span>timer<span class="token punctuation">.</span><span class="token function">loop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>drawHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">private</span> <span class="token function">drawHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
      <span class="token punctuation">{</span>
          Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> dataArray<span class="token operator">:</span>Uint8Array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>analyser<span class="token punctuation">.</span>frequencyBinCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>analyser<span class="token punctuation">.</span><span class="token function">getByteFrequencyData</span><span class="token punctuation">(</span>dataArray<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> step<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>dataArray<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">40</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">var</span> energy<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token punctuation">(</span>dataArray<span class="token punctuation">[</span>step <span class="token operator">*</span> i<span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">256.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">;</span>
              <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> energy<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token number">20</span> <span class="token operator">*</span> i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">200</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> j<span class="token punctuation">,</span><span class="token number">20</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">200</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> j<span class="token punctuation">,</span><span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token number">20</span> <span class="token operator">*</span> i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">200</span> <span class="token operator">-</span> <span class="token number">4</span> <span class="token operator">*</span> j<span class="token punctuation">,</span><span class="token number">20</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">200</span> <span class="token operator">-</span> <span class="token number">4</span> <span class="token operator">*</span> j<span class="token punctuation">,</span><span class="token string">&quot;#ffff00&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
              Laya<span class="token punctuation">.</span>stage<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token number">20</span> <span class="token operator">*</span> i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span><span class="token number">20</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span><span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">new</span> <span class="token class-name">Main</span><span class="token punctuation">;</span>
</code></pre>
<p>Compile and run the above project, click on the stage to see that the spectrum of the sound is displayed. As shown below:</p>
<p><img src="img/6.gif" alt="6"></p>
<p>Summary: It can be seen that the sound function of the web is getting more and more powerful. If the compatibility of some low-end machines is not considered, it is completely possible to make a web player. This is just a spectrum effect. Developers can try mixing, adding filters to the sound, and other functions. The relevant API can be found in mdn.</p>
<h3 id="layaairs-dom-element-iframe"><a name="layaairs-dom-element-iframe" class="anchor-navigation-ex-anchor" href="#layaairs-dom-element-iframe"><i class="fa fa-link" aria-hidden="true"></i></a>LayaAir&apos;s dom element iframe</h3>
<p>When inserting some third-party websites, we generally use iframes, and even third-party channels basically use iframes to embed an application. We will also encounter the use of iframes in our projects. The following example demonstrates the application of iframe in the project.</p>
<p>The code looks like this:</p>
<pre class="language-"><code class="lang-typescript">  <span class="token keyword">var</span> iframe<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;iframe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  iframe<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position<span class="token operator">=</span><span class="token string">&quot;absolute&quot;</span><span class="token punctuation">;</span><span class="token comment">//Set layout positioning. This cannot be missing.</span>
  iframe<span class="token punctuation">.</span>style<span class="token punctuation">.</span>zIndex <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span><span class="token comment">//Set level</span>
  iframe<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span><span class="token string">&quot;100px&quot;</span><span class="token punctuation">;</span>
  iframe<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span><span class="token string">&quot;100px&quot;</span><span class="token punctuation">;</span>
  iframe<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;http://ask.layaair.com/&quot;</span><span class="token punctuation">;</span>
  Laya<span class="token punctuation">.</span>Browser<span class="token punctuation">.</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>iframe<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>What developers need to remind here is to remember to set the positioning and level. Many developers are not careful, causing the iframe to run under the game layer and not be visible.</p>
<footer class="page-footer"><span class="copyright">Copyright &#xA9;Layabox 2022 all right reserved&#xFF0C;powered by <a href="https://layaAir.layabox.com/" target="_blank">LayaAir</a> Engine</span><span class="footer-modification">&#x66F4;&#x65B0;&#x65F6;&#x95F4;&#xFF1A;
2024-02-21 18:44:03
</span></footer>
<script>console.log("plugin-popup....");document.onclick = function(e){ e.target.tagName === "IMG" && window.open(e.target.src,e.target.src)}</script><style>img{cursor:pointer}</style>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../performanceOptimization/readme.html" class="navigation navigation-prev " aria-label="Previous page: performance Optimization">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../../3D/advanced/readme.html" class="navigation navigation-next " aria-label="Next page: Advanced 3D">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"DOM","level":"1.4.1.4","depth":3,"next":{"title":"Advanced 3D","level":"1.4.2","depth":2,"path":"3D/advanced/readme.md","ref":"3D/advanced/readme.md","articles":[{"title":"Custom Shader","level":"1.4.2.1","depth":3,"path":"3D/advanced/customShader/readme.md","ref":"3D/advanced/customShader/readme.md","articles":[]},{"title":"Post Processing","level":"1.4.2.2","depth":3,"path":"3D/advanced/PostProcessing/readme.md","ref":"3D/advanced/PostProcessing/readme.md","articles":[]},{"title":"Command Buffer","level":"1.4.2.3","depth":3,"path":"3D/advanced/CommandBuffer/readme.md","ref":"3D/advanced/CommandBuffer/readme.md","articles":[]},{"title":"performance Optimization","level":"1.4.2.4","depth":3,"path":"3D/advanced/performanceOptimization/readme.md","ref":"3D/advanced/performanceOptimization/readme.md","articles":[]},{"title":"WebXR","level":"1.4.2.5","depth":3,"path":"3D/WebXR/readme.md","ref":"3D/WebXR/readme.md","articles":[]},{"title":"Unity Resource Plugin","level":"1.4.2.6","depth":3,"path":"3D/advanced/Unity/readme.md","ref":"3D/advanced/Unity/readme.md","articles":[]}]},"previous":{"title":"performance Optimization","level":"1.4.1.3","depth":3,"path":"2D/performanceOptimization/readme.md","ref":"2D/performanceOptimization/readme.md","articles":[]},"dir":"ltr"},"config":{"plugins":["expandable-chapters-small","sidebar-style","anchor-navigation-ex","-lunr","-search","-sharing","search-pro","versions-select","-favicon","favicon-absolute","fontsettings","prism","splitter","code","flexible-alerts","auto-scroll-table","popup","tbfed-pagefooter","-theme-hqbook"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"sidebar-style":{"author":"","title":""},"tbfed-pagefooter":{"copyright":"Copyright ©Layabox 2022","modify_label":"更新时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"prism":{"css":["prismjs/themes/prism-solarizedlight.css"],"lang":{"flow":"typescript"},"ignore":["mermaid","eval-js"]},"splitter":{},"search-pro":{},"auto-scroll-table":{},"popup":{},"code":{"copyButtons":true},"versions-select":{"type":"branches"},"favicon-absolute":{"appleTouchIconMore":{},"appleTouchIconPrecomposed152":"./style/layabox-152.png","appleTouchIconPrecomposedMore":{},"favicon":"./style/favicon-32.ico","bookmark":"./style/favicon-32.ico"},"fontsettings":{"family":"sans","size":2,"theme":"white"},"highlight":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":false,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":false},"expandable-chapters-small":{},"flexible-alerts":{"danger":{"className":"danger","icon":"fa fa-ban","label":"Attention"},"note":{"className":"info","icon":"fa fa-info-circle","label":"Note"},"style":"callout","tip":{"className":"tip","icon":"fa fa-lightbulb-o","label":"Tip"},"warning":{"className":"warning","icon":"fa fa-exclamation-triangle","label":"Warning"}},"versions":{"options":[{"value":"https://layaAir.com/3.1/doc/","text":"v3.1"},{"value":"https://layaAir.com/3.0/doc/","text":"v3.0"}]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","style":{"website":"style/website.css"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"LayaAir3.0文档 · LAYABOX","gitbook":"*"},"file":{"path":"2D/dom/readme.md","mtime":"2024-02-21T10:44:03.101Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2024-03-05T07:49:14.672Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sidebar-style/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-versions-select/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-flexible-alerts/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-auto-scroll-table/plugin.js"></script>
        
    

    </body>
</html>

