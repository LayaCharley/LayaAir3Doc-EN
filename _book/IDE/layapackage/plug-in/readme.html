
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>plug-in · LayaAir3 Engine Documentation · LAYABOX</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-sidebar-style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-versions-select/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-prism/prism-solarizedlight.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-flexible-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-auto-scroll-table/website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-highlight/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../pluginImport/readme.html" />
    
    
    <link rel="prev" href="../readme.html" />
    

    
        <link rel="shortcut icon" href="./style/favicon-32.ico" type="image/x-icon">
    
    
        <link rel="bookmark" href="./style/favicon-32.ico" type="image/x-icon">
    
    
    
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="./style/layabox-152.png">
    
    
        
    
    
        
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" >
            
                <span>
            
                    
                    Beginners
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="../../../">
            
                <a href="../../../">
            
                    
                    Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1.1" data-path="../../../basics/readme.html">
            
                <a href="../../../basics/readme.html">
            
                    
                    Features
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="../../../basics/developmentEnvironment/readme.html">
            
                <a href="../../../basics/developmentEnvironment/readme.html">
            
                    
                    Development Environment
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.2.1" data-path="../../../basics/developmentEnvironment/download/readme.html">
            
                <a href="../../../basics/developmentEnvironment/download/readme.html">
            
                    
                    Install
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2.2" data-path="../../../basics/IDE/GUI/readme.html">
            
                <a href="../../../basics/IDE/GUI/readme.html">
            
                    
                    GUI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="../../../basics/essentialSkills/readme.html">
            
                <a href="../../../basics/essentialSkills/readme.html">
            
                    
                    Essential Skills
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.3.1" data-path="../../../basics/language/readme.html">
            
                <a href="../../../basics/language/readme.html">
            
                    
                    Language
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3.2" data-path="../../../basics/DevTools/readme.html">
            
                <a href="../../../basics/DevTools/readme.html">
            
                    
                    DevTools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3.3" data-path="../../../basics/LayaTree/readme.html">
            
                <a href="../../../basics/LayaTree/readme.html">
            
                    
                    LayaTree
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Engine Basics
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../../basics/IDE/readme.html">
            
                <a href="../../../basics/IDE/readme.html">
            
                    
                    IDE Basics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../../../basics/IDE/layouts/readme.html">
            
                <a href="../../../basics/IDE/layouts/readme.html">
            
                    
                    layouts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="../../../basics/IDE/projecFolders/readme.html">
            
                <a href="../../../basics/IDE/projecFolders/readme.html">
            
                    
                    projecFolders
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.3" data-path="../../../basics/IDE/projectSettings/readme.html">
            
                <a href="../../../basics/IDE/projectSettings/readme.html">
            
                    
                    projectSettings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.4" data-path="../../../basics/IDE/entry/readme.html">
            
                <a href="../../../basics/IDE/entry/readme.html">
            
                    
                    entry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.5" data-path="../../../basics/IDE/importJsLibrary/readme.html">
            
                <a href="../../../basics/IDE/importJsLibrary/readme.html">
            
                    
                    import Js Library
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.6" data-path="../../../basics/IDE/Hierarchy/readme.html">
            
                <a href="../../../basics/IDE/Hierarchy/readme.html">
            
                    
                    Hierarchy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.7" data-path="../../../basics/IDE/assets/readme.html">
            
                <a href="../../../basics/IDE/assets/readme.html">
            
                    
                    assets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.8" data-path="../../../basics/IDE/Inspector/readme.html">
            
                <a href="../../../basics/IDE/Inspector/readme.html">
            
                    
                    Inspector
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.9" data-path="../../../basics/IDE/Game/readme.html">
            
                <a href="../../../basics/IDE/Game/readme.html">
            
                    
                    Game
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.10" data-path="../../../basics/IDE/shortcutKeyCombinations/readme.html">
            
                <a href="../../../basics/IDE/shortcutKeyCombinations/readme.html">
            
                    
                    shortcutKey Combinations
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../../basics/common/readme.html">
            
                <a href="../../../basics/common/readme.html">
            
                    
                    Engine General Basics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../../../basics/common/terms/readme.html">
            
                <a href="../../../basics/common/terms/readme.html">
            
                    
                    basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../../../basics/common/Component/readme.html">
            
                <a href="../../../basics/common/Component/readme.html">
            
                    
                    Component
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../../../basics/common/Loader/readme.html">
            
                <a href="../../../basics/common/Loader/readme.html">
            
                    
                    Loader
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="../../../basics/common/Scene/readme.html">
            
                <a href="../../../basics/common/Scene/readme.html">
            
                    
                    Scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5" data-path="../../../basics/common/Node/readme.html">
            
                <a href="../../../basics/common/Node/readme.html">
            
                    
                    Node
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.6" data-path="../../../basics/common/Timer/readme.html">
            
                <a href="../../../basics/common/Timer/readme.html">
            
                    
                    Timer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.7" data-path="../../../basics/common/Event/readme.html">
            
                <a href="../../../basics/common/Event/readme.html">
            
                    
                    Event
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.8" data-path="../../../basics/common/Tween/readme.html">
            
                <a href="../../../basics/common/Tween/readme.html">
            
                    
                    Tween
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.9" data-path="../../../basics/common/Pool/readme.html">
            
                <a href="../../../basics/common/Pool/readme.html">
            
                    
                    Pool
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.10" data-path="../../../basics/common/network/readme.html">
            
                <a href="../../../basics/common/network/readme.html">
            
                    
                    network
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.11" data-path="../../../basics/common/adaptScreen/readme.html">
            
                <a href="../../../basics/common/adaptScreen/readme.html">
            
                    
                    adaptScreen
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.12" data-path="../../../basics/common/Browser/readme.html">
            
                <a href="../../../basics/common/Browser/readme.html">
            
                    
                    Browser
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.13" data-path="../../../basics/common/device/readme.html">
            
                <a href="../../../basics/common/device/readme.html">
            
                    
                    device
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.13.1" data-path="../../../basics/common/device/media/readme.html">
            
                <a href="../../../basics/common/device/media/readme.html">
            
                    
                    media
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.13.2" data-path="../../../basics/common/device/motion/readme.html">
            
                <a href="../../../basics/common/device/motion/readme.html">
            
                    
                    motion
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2.14" data-path="../../../basics/common/Stat/readme.html">
            
                <a href="../../../basics/common/Stat/readme.html">
            
                    
                    Stat
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../../basics/3D/readme.html">
            
                <a href="../../../basics/3D/readme.html">
            
                    
                    Basic of 3D Engine
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../../../basics/3D/beginner/readme.html">
            
                <a href="../../../basics/3D/beginner/readme.html">
            
                    
                    beginner
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../../../basics/3D/Transform/readme.html">
            
                <a href="../../../basics/3D/Transform/readme.html">
            
                    
                    Transform
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Editor
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../uiEditor/readme.html">
            
                <a href="../../uiEditor/readme.html">
            
                    
                    UI Editor
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../../uiEditor/basic/readme.html">
            
                <a href="../../uiEditor/basic/readme.html">
            
                    
                    Basic Interaction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="../../uiEditor/widgets/readme.html">
            
                <a href="../../uiEditor/widgets/readme.html">
            
                    
                    widgets
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.1" data-path="../../../2D/displayObject/readme.html">
            
                <a href="../../../2D/displayObject/readme.html">
            
                    
                    Display Object
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.1.1" data-path="../../../2D/displayObject/Sprite/readme.html">
            
                <a href="../../../2D/displayObject/Sprite/readme.html">
            
                    
                    Sprite
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.1.2" data-path="../../../2D/displayObject/Animation/readme.html">
            
                <a href="../../../2D/displayObject/Animation/readme.html">
            
                    
                    Animation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.1.3" data-path="../../../2D/displayObject/Text/readme.html">
            
                <a href="../../../2D/displayObject/Text/readme.html">
            
                    
                    Text
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.1.4" data-path="../../../2D/displayObject/SoundNode/readme.html">
            
                <a href="../../../2D/displayObject/SoundNode/readme.html">
            
                    
                    Sound Node
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.1.5" data-path="../../../2D/displayObject/VideoNode/readme.html">
            
                <a href="../../../2D/displayObject/VideoNode/readme.html">
            
                    
                    Video Node
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2" data-path="../../uiEditor/uiComponent/readme.html">
            
                <a href="../../uiEditor/uiComponent/readme.html">
            
                    
                    UIComponent
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.1" data-path="../../uiEditor/uiComponent/Image/readme.html">
            
                <a href="../../uiEditor/uiComponent/Image/readme.html">
            
                    
                    Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.2" data-path="../../uiEditor/uiComponent/Label/readme.html">
            
                <a href="../../uiEditor/uiComponent/Label/readme.html">
            
                    
                    Label
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.3" data-path="../../uiEditor/uiComponent/TextInput/readme.html">
            
                <a href="../../uiEditor/uiComponent/TextInput/readme.html">
            
                    
                    TextInput
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.3.1" data-path="../../uiEditor/uiComponent/TextArea/readme.html">
            
                <a href="../../uiEditor/uiComponent/TextArea/readme.html">
            
                    
                    TextArea
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.4" data-path="../../uiEditor/uiComponent/Clip/readme.html">
            
                <a href="../../uiEditor/uiComponent/Clip/readme.html">
            
                    
                    Clip
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.4.1" data-path="../../uiEditor/uiComponent/FontClip/readme.html">
            
                <a href="../../uiEditor/uiComponent/FontClip/readme.html">
            
                    
                    FontClip
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.5" data-path="../../uiEditor/uiComponent/Button/readme.html">
            
                <a href="../../uiEditor/uiComponent/Button/readme.html">
            
                    
                    Button
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.6" data-path="../../uiEditor/uiComponent/scroll/readme.html">
            
                <a href="../../uiEditor/uiComponent/scroll/readme.html">
            
                    
                    scroll
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.6.1" data-path="../../uiEditor/uiComponent/HScrollBar/readme.html">
            
                <a href="../../uiEditor/uiComponent/HScrollBar/readme.html">
            
                    
                    HScrollBar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.6.2" data-path="../../uiEditor/uiComponent/VScrollBar/readme.html">
            
                <a href="../../uiEditor/uiComponent/VScrollBar/readme.html">
            
                    
                    VScrollBar
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.7" data-path="../../uiEditor/uiComponent/slider/readme.html">
            
                <a href="../../uiEditor/uiComponent/slider/readme.html">
            
                    
                    slider
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.7.1" data-path="../../uiEditor/uiComponent/readme.html">
            
                <a href="../../uiEditor/uiComponent/readme.html">
            
                    
                    HSlider
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.7.2" data-path="../../uiEditor/uiComponent/VSlider/readme.html">
            
                <a href="../../uiEditor/uiComponent/VSlider/readme.html">
            
                    
                    VSlider
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.8" data-path="../../uiEditor/uiComponent/ProgressBar/readme.html">
            
                <a href="../../uiEditor/uiComponent/ProgressBar/readme.html">
            
                    
                    ProgressBar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.9" data-path="../../uiEditor/uiComponent/Box/readme.html">
            
                <a href="../../uiEditor/uiComponent/Box/readme.html">
            
                    
                    Box
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.9.1" data-path="../../uiEditor/uiComponent/HBoox/readme.md">
            
                <span>
            
                    
                    HBoox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.9.2" data-path="../../uiEditor/uiComponent/VBox/readme.html">
            
                <a href="../../uiEditor/uiComponent/VBox/readme.html">
            
                    
                    VBox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.9.3" data-path="../../uiEditor/uiComponent/Panel/readme.html">
            
                <a href="../../uiEditor/uiComponent/Panel/readme.html">
            
                    
                    Panel
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.10" data-path="../../uiEditor/uiComponent/List/readme.html">
            
                <a href="../../uiEditor/uiComponent/List/readme.html">
            
                    
                    List
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.10.1" data-path="../../uiEditor/uiComponent/Tree/readme.html">
            
                <a href="../../uiEditor/uiComponent/Tree/readme.html">
            
                    
                    Tree
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.11" data-path="../../uiEditor/uiComponent/optionBox/readme.html">
            
                <a href="../../uiEditor/uiComponent/optionBox/readme.html">
            
                    
                    optionBox
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.11.1" data-path="../../uiEditor/uiComponent/ComboBox/readme.html">
            
                <a href="../../uiEditor/uiComponent/ComboBox/readme.html">
            
                    
                    ComboBox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.11.2" data-path="../../uiEditor/uiComponent/Radio/readme.html">
            
                <a href="../../uiEditor/uiComponent/Radio/readme.html">
            
                    
                    Radio
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.11.3" data-path="../../uiEditor/uiComponent/RadioGroup/readme.html">
            
                <a href="../../uiEditor/uiComponent/RadioGroup/readme.html">
            
                    
                    RadioGroup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.11.4" data-path="../../uiEditor/uiComponent/CheckBox/readme.html">
            
                <a href="../../uiEditor/uiComponent/CheckBox/readme.html">
            
                    
                    CheckBox
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.12" data-path="../../uiEditor/uiComponent/navigationMenu/readme.html">
            
                <a href="../../uiEditor/uiComponent/navigationMenu/readme.html">
            
                    
                    Navigation Menu
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.2.12.1" data-path="../../uiEditor/uiComponent/Tab/readme.html">
            
                <a href="../../uiEditor/uiComponent/Tab/readme.html">
            
                    
                    Tab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.12.2" data-path="../../uiEditor/uiComponent/ViewStack/readme.html">
            
                <a href="../../uiEditor/uiComponent/ViewStack/readme.html">
            
                    
                    ViewStack
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.13" data-path="../../uiEditor/uiComponent/ColorPicker/readme.html">
            
                <a href="../../uiEditor/uiComponent/ColorPicker/readme.html">
            
                    
                    ColorPicker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.14" data-path="../../uiEditor/uiComponent/OpenDataContextView/readme.html">
            
                <a href="../../uiEditor/uiComponent/OpenDataContextView/readme.html">
            
                    
                    OpenDataContextView
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2.15" data-path="../../uiEditor/Dialog/readme.html">
            
                <a href="../../uiEditor/Dialog/readme.html">
            
                    
                    Dialog
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.3" data-path="../../uiEditor/uiComponent/skeleton/readme.html">
            
                <a href="../../uiEditor/uiComponent/skeleton/readme.html">
            
                    
                    skeleton
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.3.1" data-path="../../uiEditor/uiComponent/skeleton/spine/readme.html">
            
                <a href="../../uiEditor/uiComponent/skeleton/spine/readme.html">
            
                    
                    spine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.3.2" data-path="../../uiEditor/uiComponent/skeleton/sk/readme.html">
            
                <a href="../../uiEditor/uiComponent/skeleton/sk/readme.html">
            
                    
                    sk
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.3" data-path="../../uiEditor/readme.html">
            
                <a href="../../uiEditor/readme.html">
            
                    
                    graphics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.4" data-path="../../uiEditor/Filter/readme.html">
            
                <a href="../../uiEditor/Filter/readme.html">
            
                    
                    Filter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.5" data-path="../../uiEditor/runtime/readme.html">
            
                <a href="../../uiEditor/runtime/readme.html">
            
                    
                    runtime
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.6" data-path="../../uiEditor/use3D/readme.html">
            
                <a href="../../uiEditor/use3D/readme.html">
            
                    
                    use3D
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.7" data-path="../../uiEditor/textureCompress/readme.html">
            
                <a href="../../uiEditor/textureCompress/readme.html">
            
                    
                    textureCompress
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.8" data-path="../../uiEditor/3DUI/readme.html">
            
                <a href="../../uiEditor/3DUI/readme.html">
            
                    
                    3D UI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../sceneEditor/readme.html">
            
                <a href="../../sceneEditor/readme.html">
            
                    
                    Scene Editor
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="../../sceneEditor/basic/readme.html">
            
                <a href="../../sceneEditor/basic/readme.html">
            
                    
                    Basic Interaction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="../../../3D/Sprite3D/readme.html">
            
                <a href="../../../3D/Sprite3D/readme.html">
            
                    
                    Sprite3D
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="../../../3D/displayObject/readme.html">
            
                <a href="../../../3D/displayObject/readme.html">
            
                    
                    Display Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4" data-path="../../../3D/Camera/readme.html">
            
                <a href="../../../3D/Camera/readme.html">
            
                    
                    Camera
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.5" data-path="../../../3D/Light/readme.html">
            
                <a href="../../../3D/Light/readme.html">
            
                    
                    Light
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.6" data-path="../../sceneEditor/environment/readme.html">
            
                <a href="../../sceneEditor/environment/readme.html">
            
                    
                    environment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.7" data-path="../../../3D/useModel/readme.html">
            
                <a href="../../../3D/useModel/readme.html">
            
                    
                    useModel
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../animationEditor/readme.html">
            
                <a href="../../animationEditor/readme.html">
            
                    
                    Animation Editor
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../../animationEditor/timelineGUI/readme.html">
            
                <a href="../../animationEditor/timelineGUI/readme.html">
            
                    
                    timeline GUI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.2" data-path="../../animationEditor/aniController/readme.html">
            
                <a href="../../animationEditor/aniController/readme.html">
            
                    
                    Animation Controller
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.3" data-path="../../animationEditor/aniBake/readme.html">
            
                <a href="../../animationEditor/aniBake/readme.html">
            
                    
                    Animation Bake
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../../particleEditor/readme.html">
            
                <a href="../../particleEditor/readme.html">
            
                    
                    Particle Editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../../materialEditor/readme.html">
            
                <a href="../../materialEditor/readme.html">
            
                    
                    Material Editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../../ShaderBlueprint/readme.html">
            
                <a href="../../ShaderBlueprint/readme.html">
            
                    
                    Shader Blueprint
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../../Component/readme.html">
            
                <a href="../../Component/readme.html">
            
                    
                    Component
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.7.1" data-path="../../Component/Mesh/readme.html">
            
                <a href="../../Component/Mesh/readme.html">
            
                    
                    Mesh
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.2" data-path="../../Component/Trail/readme.html">
            
                <a href="../../Component/Trail/readme.html">
            
                    
                    Trail
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.3" data-path="../../Component/PixelLine/readme.html">
            
                <a href="../../Component/PixelLine/readme.html">
            
                    
                    Pixel Line
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.4" data-path="../../Component/ReflectionProbe/readme.html">
            
                <a href="../../Component/ReflectionProbe/readme.html">
            
                    
                    Reflection Probe
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.5" data-path="../../Component/VolumetricGI/readme.html">
            
                <a href="../../Component/VolumetricGI/readme.html">
            
                    
                    Volumetric GI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.6" data-path="../../Component/StaticBatchVolume/readme.html">
            
                <a href="../../Component/StaticBatchVolume/readme.html">
            
                    
                    StaticBatchVolume
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.7" data-path="../../Component/LOD/readme.html">
            
                <a href="../../Component/LOD/readme.html">
            
                    
                    LOD Group
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../../prefab/readme.html">
            
                <a href="../../prefab/readme.html">
            
                    
                    prefab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="../readme.html">
            
                <a href="../readme.html">
            
                    
                    layapackage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.3.9.1" data-path="readme.html">
            
                <a href="readme.html">
            
                    
                    plug-in
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9.2" data-path="../pluginImport/readme.html">
            
                <a href="../pluginImport/readme.html">
            
                    
                    Plugin Import
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9.3" data-path="../Layabox/readme.html">
            
                <a href="../Layabox/readme.html">
            
                    
                    Official Plugins
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.9.3.1" data-path="../Layabox/LOD/readme.html">
            
                <a href="../Layabox/LOD/readme.html">
            
                    
                    LOD Reduction Plugin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    advanced
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../../2D/advanced/readme.html">
            
                <a href="../../../2D/advanced/readme.html">
            
                    
                    Advanced 2D
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../../../2D/advanced/useText/readme.html">
            
                <a href="../../../2D/advanced/useText/readme.html">
            
                    
                    use Text
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="../../../2D/TiledMap/readme.html">
            
                <a href="../../../2D/TiledMap/readme.html">
            
                    
                    TiledMap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="../../../2D/performanceOptimization/readme.html">
            
                <a href="../../../2D/performanceOptimization/readme.html">
            
                    
                    performance Optimization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4" data-path="../../../2D/dom/readme.html">
            
                <a href="../../../2D/dom/readme.html">
            
                    
                    DOM
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../../3D/advanced/readme.html">
            
                <a href="../../../3D/advanced/readme.html">
            
                    
                    Advanced 3D
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../../../3D/advanced/customShader/readme.html">
            
                <a href="../../../3D/advanced/customShader/readme.html">
            
                    
                    Custom Shader
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../../../3D/advanced/PostProcessing/readme.html">
            
                <a href="../../../3D/advanced/PostProcessing/readme.html">
            
                    
                    Post Processing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../../../3D/advanced/CommandBuffer/readme.html">
            
                <a href="../../../3D/advanced/CommandBuffer/readme.html">
            
                    
                    Command Buffer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="../../../3D/advanced/performanceOptimization/readme.html">
            
                <a href="../../../3D/advanced/performanceOptimization/readme.html">
            
                    
                    performance Optimization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.5" data-path="../../../3D/WebXR/readme.html">
            
                <a href="../../../3D/WebXR/readme.html">
            
                    
                    WebXR
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.6" data-path="../../../3D/advanced/Unity/readme.html">
            
                <a href="../../../3D/advanced/Unity/readme.html">
            
                    
                    Unity Resource Plugin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Publishing
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../../released/generalSetting/readme.html">
            
                <a href="../../../released/generalSetting/readme.html">
            
                    
                    General Setting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../../released/web/readme.html">
            
                <a href="../../../released/web/readme.html">
            
                    
                    Web
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../../released/miniGame/readme.html">
            
                <a href="../../../released/miniGame/readme.html">
            
                    
                    miniGame
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.1" data-path="../../../released/miniGame/wechat/readme.html">
            
                <a href="../../../released/miniGame/wechat/readme.html">
            
                    
                    wechat
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.2" data-path="../../../released/miniGame/byteDance/readme.html">
            
                <a href="../../../released/miniGame/byteDance/readme.html">
            
                    
                    tiktok
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.3" data-path="../../../released/miniGame/OPPO/readme.html">
            
                <a href="../../../released/miniGame/OPPO/readme.html">
            
                    
                    OPPO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.4" data-path="../../../released/miniGame/vivo/readme.html">
            
                <a href="../../../released/miniGame/vivo/readme.html">
            
                    
                    vivo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.5" data-path="../../../released/miniGame/xiaomi/readme.html">
            
                <a href="../../../released/miniGame/xiaomi/readme.html">
            
                    
                    xiaomi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.6" data-path="../../../released/miniGame/alipaygame/readme.html">
            
                <a href="../../../released/miniGame/alipaygame/readme.html">
            
                    
                    alipaygame
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../../../released/native/LayaNative_Introduction/readme.html">
            
                <a href="../../../released/native/LayaNative_Introduction/readme.html">
            
                    
                    Native
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.1" data-path="../../../released/native/native_index/readme.html">
            
                <a href="../../../released/native/native_index/readme.html">
            
                    
                    native index
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.2" data-path="../../../released/native/build_Tool/readme.html">
            
                <a href="../../../released/native/build_Tool/readme.html">
            
                    
                    build Tool
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.3" data-path="../../../released/native/screen_orientation/readme.html">
            
                <a href="../../../released/native/screen_orientation/readme.html">
            
                    
                    screen orientation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.4" data-path="../../../released/native/loading_view_new/readme.html">
            
                <a href="../../../released/native/loading_view_new/readme.html">
            
                    
                    Loading View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.5" data-path="../../../released/native/network/readme.html">
            
                <a href="../../../released/native/network/readme.html">
            
                    
                    network
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.6" data-path="../../../released/native/LocalStrorage/readme.html">
            
                <a href="../../../released/native/LocalStrorage/readme.html">
            
                    
                    Local Storage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.7" data-path="../../../released/native/Android_BackPress/readme.html">
            
                <a href="../../../released/native/Android_BackPress/readme.html">
            
                    
                    Android BackPress
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.8" data-path="../../../released/native/real_device_debugging/readme.html">
            
                <a href="../../../released/native/real_device_debugging/readme.html">
            
                    
                    Debugging JS on Android
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.9" data-path="../../../released/native/LayaDcc_Tool/readme.html">
            
                <a href="../../../released/native/LayaDcc_Tool/readme.html">
            
                    
                    LayaDcc Tool
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.10" data-path="../../../released/native/Secondary_Development/readme.html">
            
                <a href="../../../released/native/Secondary_Development/readme.html">
            
                    
                    Secondary Development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.11" data-path="../../../released/native/webview/readme.html">
            
                <a href="../../../released/native/webview/readme.html">
            
                    
                    webview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.12" data-path="../../../released/native/built_in_font/readme.html">
            
                <a href="../../../released/native/built_in_font/readme.html">
            
                    
                    Fonts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.13" data-path="../../../released/native/zipUpdate/readme.html">
            
                <a href="../../../released/native/zipUpdate/readme.html">
            
                    
                    zip Update
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.14" data-path="../../../released/native/apk_expansion/readme.html">
            
                <a href="../../../released/native/apk_expansion/readme.html">
            
                    
                    APK Expansion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.15" data-path="../../../released/native/build_Cmd/readme.html">
            
                <a href="../../../released/native/build_Cmd/readme.html">
            
                    
                    Command
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.16" data-path="../../../released/native/Other_settings/readme.html">
            
                <a href="../../../released/native/Other_settings/readme.html">
            
                    
                    Other
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../.." >plug-in</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#plug-in-development-instructions"><b></b>Plug-in development instructions</a></li><ul><li><span class="title-icon "></span><a href="#1-plug-in-capabilities"><b></b>1. Plug-in capabilities</a></li><li><span class="title-icon "></span><a href="#2-plug-in-operating-environment"><b></b>2. Plug-in operating environment</a></li><ul><li><span class="title-icon "></span><a href="#21-using-native-capabilities-in-layascript"><b></b>2.1 Using native capabilities in Laya.Script</a></li><li><span class="title-icon "></span><a href="#22-how-to-communicate-between-ui-process-script-and-scene-process-script"><b></b>2.2 How to communicate between UI process script and Scene process script</a></li><li><span class="title-icon "></span><a href="#23-script-isolation-mechanism"><b></b>2.3 Script isolation mechanism</a></li></ul><li><span class="title-icon "></span><a href="#3-make-editor-ui"><b></b>3. Make editor UI</a></li><li><span class="title-icon "></span><a href="#4-programmatic-generation-interface"><b></b>4. Programmatic generation interface</a></li><ul><li><span class="title-icon "></span><a href="#41-common-methods"><b></b>4.1 Common methods</a></li><li><span class="title-icon "></span><a href="#42-example"><b></b>4.2 Example</a></li></ul><li><span class="title-icon "></span><a href="#5-customize-inspector-field-editing-interface"><b></b>5. Customize Inspector field editing interface</a></li><li><span class="title-icon "></span><a href="#6-customized-panel"><b></b>6. Customized panel</a></li><li><span class="title-icon "></span><a href="#7-use-dialog-boxes"><b></b>7. Use dialog boxes</a></li><li><span class="title-icon "></span><a href="#8-expand-the-built-in-menu"><b></b>8. Expand the built-in menu</a></li><li><span class="title-icon "></span><a href="#9-create-menu"><b></b>9. Create menu</a></li><li><span class="title-icon "></span><a href="#10-draw-shapes-and-interactive-handles-in-the-scene-view"><b></b>10. Draw shapes and interactive handles in the scene view</a></li><li><span class="title-icon "></span><a href="#11-custom-configuration"><b></b>11. Custom configuration</a></li><li><span class="title-icon "></span><a href="#12-extended-editor-configuration-interface"><b></b>12. Extended editor configuration interface</a></li><li><span class="title-icon "></span><a href="#13-expand-the-build-process"><b></b>13. Expand the build process</a></li><li><span class="title-icon "></span><a href="#14-customize-publishing-target-platform"><b></b>14. Customize publishing target platform</a></li><li><span class="title-icon "></span><a href="#15-resource-import-pre-processing-and-post-processing"><b></b>15. Resource import pre-processing and post-processing</a></li><li><span class="title-icon "></span><a href="#16-international-support"><b></b>16. International support</a></li><li><span class="title-icon "></span><a href="#17-command-line-support"><b></b>17. Command line support</a></li></ul></ul></div><a href="#plug-in-development-instructions" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="plug-in-development-instructions"><a name="plug-in-development-instructions" class="anchor-navigation-ex-anchor" href="#plug-in-development-instructions"><i class="fa fa-link" aria-hidden="true"></i></a>Plug-in development instructions</h1>
<h2 id="1-plug-in-capabilities"><a name="1-plug-in-capabilities" class="anchor-navigation-ex-anchor" href="#1-plug-in-capabilities"><i class="fa fa-link" aria-hidden="true"></i></a>1. Plug-in capabilities</h2>
<p>The editor is developed using the Electron framework, which is essentially an encapsulation of the Chrome browser. The editor is actually a single-page application made with HTML+JS+CSS. But we encapsulate most of the functions, so game developers and plug-in developers do not need to learn HTML/CSS or related front-end frameworks. When we develop plug-ins, we need to use the UI framework provided by the editor. Generally, we are not allowed to directly modify the DOM structure of the editor. Considering user experience and compatibility, resource stores generally do not allow such plug-ins to be put on the shelves.</p>
<p>In the engine/types directory of the project, there are three declaration files related to editor plug-in development, editor.d.ts, editor-ui.d.ts, editor-env.d.ts. They contain a large number of editor extensions. API.</p>
<ul>
<li>editor.d.ts is the API of the editor UI process. Commonly used are the classes and interfaces under the global object Editor and IEditor namespaces.</li>
<li>editor-env.d.ts is the API of the scene scene process. Commonly used are the classes and interfaces under the global object EditorEnv and IEditorEnv namespace.</li>
<li>editor-ui.d.ts editor UI library. Use classes and interfaces under the IEditorUI namespace.</li>
</ul>
<p>Among them, IEditor.utils/IEditorEnv.utils exposes a large number of practical tool functions, including UUID generation, encryption and decryption, ZIP compression/decompression, file/directory copy/move, HTTP request, upload/download, etc.</p>
<p>Developers can directly use the node module. In addition, the IDE also has built-in some commonly used npm libraries, such as sharp, glob, pinyin, @svgdotjs/svg.js, etc.</p>
<pre class="language-"><code class="lang-typescript"><span class="token comment">//How to use nodejs module</span>
<span class="token keyword">import</span> fs <span class="token keyword">from</span> <span class="token string">&quot;fs&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">&quot;path&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sharp <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&quot;sharp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> glob <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&quot;glob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="2-plug-in-operating-environment"><a name="2-plug-in-operating-environment" class="anchor-navigation-ex-anchor" href="#2-plug-in-operating-environment"><i class="fa fa-link" aria-hidden="true"></i></a>2. Plug-in operating environment</h2>
<p>The editor is a multi-process system, with three main processes: Main process/UI process/Scene process. Plug-ins can only run in the UI process and Scene process. The UI process does not load the engine library, that is, there is no LayaAir engine environment; the Scene process has a LayaAir engine environment, and communication with the UI can only be through the asynchronous communication API provided by the editor. In addition, plug-in scripts may also run in previews (including in-editor previews and external browser previews). The difference from the Scene process is that there is no node environment in the preview process. To sum up, there are three environments in which plug-in scripts may run:</p>
<p>(1) UI process: local modules such as node can be used directly, but the Laya engine cannot be used;</p>
<p>(2) Scene process: You can directly use local modules such as node, and you can use the Laya engine;</p>
<p>(3) Preview process: Local modules such as node cannot be used, but the Laya engine can be used;</p>
<p>If a plugin script mistakenly uses a feature that does not exist in the current environment, the script may not run. For example, using node&apos;s fs module to access the file system in a Laya custom component script will cause the script to report an error when previewing or final publishing.</p>
<p>In order for the script to run correctly in various environments, developers need to isolate these three types of code at the file level when writing scripts. For example, a TS file of a custom panel cannot reference the Laya engine because it runs in the UI process. For another example, a Laya.Script cannot use fs, path and other modules because it may run in the preview process. But these two needs are also common, what should we do?</p>
<h3 id="21-using-native-capabilities-in-layascript"><a name="21-using-native-capabilities-in-layascript" class="anchor-navigation-ex-anchor" href="#21-using-native-capabilities-in-layascript"><i class="fa fa-link" aria-hidden="true"></i></a>2.1 Using native capabilities in Laya.Script</h3>
<p>Here is a recommended approach:</p>
<pre class="language-"><code class="lang-TypeScript">//Script.ts
@Laya.regClass()
class Script extends Laya.Script {

    wantToUseNode() {
        EditorEnv.scene.runScript(&quot;TestSceneScript.visitNode&quot;);
    }
}

//TestSceneScript.ts
import fs from &quot;fs&quot;;

//Note that it is IEditorEnv.regClass, not Laya.regClass!!
@IEditorEnv.regClass()
class TestSceneScript {

    static visitNode() {
        fs.readFileSync(....)        
    }
}
</code></pre>
<blockquote>
<p>The TestSceneScript.ts file will be trimmed in publishing because it is not directly referenced by Laya.Script.</p>
</blockquote>
<h3 id="22-how-to-communicate-between-ui-process-script-and-scene-process-script"><a name="22-how-to-communicate-between-ui-process-script-and-scene-process-script" class="anchor-navigation-ex-anchor" href="#22-how-to-communicate-between-ui-process-script-and-scene-process-script"><i class="fa fa-link" aria-hidden="true"></i></a>2.2 How to communicate between UI process script and Scene process script</h3>
<ol>
<li>After setting the node/component properties, the nodes/components in the scene will automatically refresh without coding. For example:</li>
</ol>
<pre class="language-"><code class="lang-TypeScript">//The following is the UI process code

//Get the selected node
let node = Editor.scene.getSelection()[0];

//Modify node attributes, objects in the scene will be automatically synchronized, no manual work is required
node.props.x = 100;

//Modify the component properties, and the objects in the scene will be automatically synchronized, no need to do it manually.
node.getComponent(&quot;MeshRenderer&quot;).props.enabled = false;
</code></pre>
<ol>
<li>Call a method of the node/component and return a value. For example:</li>
</ol>
<pre class="language-"><code class="lang-TypeScript">//The following is the UI process code

//Get the selected node
let node = Editor.scene.getSelection()[0];

//Call the test method in the MyScript component and pass in the parameter abc
let ret = await Editor.scene.runNodeScript(node.id, node.getComponent(&quot;MyScript&quot;).id, &quot;test&quot;, &quot;abc&quot;);
console.log(ret);
</code></pre>
<ol>
<li>Customize a function and execute it. For example:</li>
</ol>
<pre class="language-"><code class="lang-TypeScript">//The following is the code for the scene process

//Note: IEditorEnv.regClass is required
@IEditorEnv.regClass()
export class TestSceneScript {
    //Note: this is the current IEditorEnv.IGameScene object. If not needed, you can also omit this statement.
    static test(this: IEditorEnv.IGameScene, msg: string) {
        console.log(msg); //hello

        return &quot;ok&quot;;
    }
}
//The following is the code of the UI process

let ret = await Editor.scene.runScript(&quot;TestSceneScript.test&quot;, &quot;hello&quot;);
console.log(ret); //ok
</code></pre>
<ol>
<li>If the scene process needs to send a message to the UI process, use the following method:</li>
</ol>
<pre class="language-"><code class="lang-typescript"><span class="token comment">//Select a resource in the project resource panel</span>
EditorEnv<span class="token punctuation">.</span><span class="token function">postMessageToPanel</span><span class="token punctuation">(</span><span class="token string">&quot;ProjectPanel&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;select&quot;</span><span class="token punctuation">,</span> assetId<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Call a method of the custom Panel and return the result</span>
<span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">await</span> EditorEnv<span class="token punctuation">.</span><span class="token function">sendMessageToPanel</span><span class="token punctuation">(</span><span class="token string">&quot;MyPanel&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;getResult&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="23-script-isolation-mechanism"><a name="23-script-isolation-mechanism" class="anchor-navigation-ex-anchor" href="#23-script-isolation-mechanism"><i class="fa fa-link" aria-hidden="true"></i></a>2.3 Script isolation mechanism</h3>
<p>The editor implements script isolation by compiling scripts into three js. Bundle.js contains the version that can be run in the preview environment, that is, in the browser; bundle.editor.js is a script that runs in the UI process; bundle.js. scene.js is a script in the Scene process. This mechanism is automatic, but developers need to understand how this mechanism works:</p>
<ol>
<li><p>All scripts containing the @Laya.regClass decorator will be compiled into bundle.js and bundle.scene.js. Note that the &quot;all&quot; referred to here is limited to the Debug version. In the release version of bundle.js, only scripts referenced by the scene will be included. bundle.scene.js will not appear in release builds.</p>
</li>
<li><p>All scripts containing the @IEditorEnv.regClass decorator will be compiled into bundle.scene.js. This js only runs inside the editor, so you can use node capabilities with confidence.</p>
</li>
<li><p>All scripts containing @IEditor.xxx decorators will be compiled into bundle.editor.js. This js only runs in the UI process, so you can use node capabilities with confidence, but if you reference Laya classes, an error will be reported.</p>
</li>
</ol>
<p>Although this identification mechanism can solve the problem of marking the usage of different scripts, it is still recommended that developers use directory isolation for their own purposes. For example, put the scripts run by the UI process into the directory named editor, and put the scripts that only run in the editor into the directory named scene, so that maintenance will be clearer.</p>
<h2 id="3-make-editor-ui"><a name="3-make-editor-ui" class="anchor-navigation-ex-anchor" href="#3-make-editor-ui"><i class="fa fa-link" aria-hidden="true"></i></a>3. Make editor UI</h2>
<p>LayaAirIDE provides a visual editor for developing editor UI. In the menu of the <code>Project Resources</code> panel, create a new <code>Editor Interface Prefab</code>, such as MyWidget.widget. It is recommended to place such prefabs in the editorResources directory or its subdirectories.</p>
<blockquote>
<p>The editorResources directory is a special directory with an agreed name in LayaAirIDE. It has similar characteristics to resources, that is, no matter how deep it is placed in the subdirectory, the resource path can start from editorResources. For example, if a resource is located at &quot;/MaDaHa/v1/editoResources/a/b.png&quot;, you can directly fill in &quot;editorResources/a/b.png&quot; when referencing the resource, regardless of the previous &quot;MaDaHa/v1/&quot;.</p>
<p>This is very important in the plug-in system, because when developing plug-ins, plug-in developers cannot determine in which directory the plug-in resources will be placed when users use them. They can only be sure that users will not destroy the internal directory structure of the plug-in.</p>
<p>The resources directory has the same characteristics, the difference is that the resources directory will be copied to the release directory when publishing, but editorResources will never be copied.</p>
</blockquote>
<p>Double-click to open MyWidget.widget, and use the built-in UI editor to create the UI interface required by the plug-in.</p>
<p><img src="img/3-1.png" alt="3-1"></p>
<p>Taking the panel as an example, the method of loading the prefab in the code is:</p>
<pre class="language-"><code class="lang-TypeScript">@IEditor.panel(&quot;Test&quot;)
export class MyPanel extends IEditor.EditorPanel {
    async create() {
        this._panel = await gui.UIPackage.createWidget(&quot;editorResources/UI/MyWidget.widget&quot;);
        let input: gui.TextInput = this._panel.getChild(&quot;TextInput&quot;).getChild(&quot;title&quot;);
        input.on(&quot;changed&quot;, () =&gt; {
            console.log(&quot;Changed!&quot;);
        })
    }
}
</code></pre>
<h2 id="4-programmatic-generation-interface"><a name="4-programmatic-generation-interface" class="anchor-navigation-ex-anchor" href="#4-programmatic-generation-interface"><i class="fa fa-link" aria-hidden="true"></i></a>4. Programmatic generation interface</h2>
<h3 id="41-common-methods"><a name="41-common-methods" class="anchor-navigation-ex-anchor" href="#41-common-methods"><i class="fa fa-link" aria-hidden="true"></i></a>4.1 Common methods</h3>
<p>In addition to using the UI editor to create the interface, you can also use code to create some commonly used UI components, which are in IEditor.GUIUtils.</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IGUIUtils</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * Editor default background color
     */</span>
    bgColor<span class="token operator">:</span> gui<span class="token punctuation">.</span>Color<span class="token punctuation">;</span>
    <span class="token comment">/**
     * Editor&apos;s default dividing line color
     */</span>
    lineColor<span class="token operator">:</span> gui<span class="token punctuation">.</span>Color<span class="token punctuation">;</span>
    <span class="token comment">/**
     * Editor default text color
     */</span>
    textColor<span class="token operator">:</span> gui<span class="token punctuation">.</span>Color<span class="token punctuation">;</span>

    <span class="token function">createButton</span><span class="token punctuation">(</span>autoSize<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span><span class="token operator">:</span> gui<span class="token punctuation">.</span>Button<span class="token punctuation">;</span>
    <span class="token function">createIconButton</span><span class="token punctuation">(</span>flat<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span><span class="token operator">:</span> gui<span class="token punctuation">.</span>Button<span class="token punctuation">;</span>
    <span class="token function">createCheckbox</span><span class="token punctuation">(</span>autoSize<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span><span class="token operator">:</span> gui<span class="token punctuation">.</span>Button<span class="token punctuation">;</span>
    <span class="token function">createIconCheckbox</span><span class="token punctuation">(</span>flat<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span><span class="token operator">:</span> gui<span class="token punctuation">.</span>Button<span class="token punctuation">;</span>
    <span class="token function">createRadio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> gui<span class="token punctuation">.</span>Button<span class="token punctuation">;</span>
    <span class="token function">createComboBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> gui<span class="token punctuation">.</span>ComboBox<span class="token punctuation">;</span>
    <span class="token function">createTextInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> TextInput<span class="token punctuation">;</span>
    <span class="token function">createTextArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> TextArea<span class="token punctuation">;</span>
    <span class="token function">createSearchInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> SearchInput<span class="token punctuation">;</span>
    <span class="token function">createNumericInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> NumericInput<span class="token punctuation">;</span>
    <span class="token function">createColorInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ColorInput<span class="token punctuation">;</span>
    <span class="token function">createGradientInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> GradientInput<span class="token punctuation">;</span>
    <span class="token function">createCurveInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> CurveInput<span class="token punctuation">;</span>
    <span class="token function">createResourceInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ResourceInput<span class="token punctuation">;</span>
    <span class="token function">createNodeRefInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> NodeRefInput<span class="token punctuation">;</span>
    <span class="token function">createProgressBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> gui<span class="token punctuation">.</span>ProgressBar<span class="token punctuation">;</span>
    <span class="token function">createSlider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> gui<span class="token punctuation">.</span>Slider<span class="token punctuation">;</span>
    <span class="token function">createListItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ListItem<span class="token punctuation">;</span>
    <span class="token function">createIconListItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ListItem<span class="token punctuation">;</span>
    <span class="token function">createCheckboxListItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ListItem<span class="token punctuation">;</span>
    <span class="token function">createCheckboxIconListItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ListItem<span class="token punctuation">;</span>

    <span class="token function">createInspectorPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> InspectorPanel<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="42-example"><a name="42-example" class="anchor-navigation-ex-anchor" href="#42-example"><i class="fa fa-link" aria-hidden="true"></i></a>4.2 Example</h3>
<p>For example, to dynamically create a button, you can use the following code.</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">let</span> button <span class="token operator">=</span> IEditor<span class="token punctuation">.</span>GUIUtils<span class="token punctuation">.</span><span class="token function">createButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//The function it implements is actually the same as the following code, but more concise</span>
<span class="token comment">//let button = gui.UIPackage.createWidgetSync(&quot;~/ui/basics/Button/Button.widget&quot;);</span>
</code></pre>
<p>IEditor.InspectorPanel is a general interface class that generates interfaces through configuration. Here is an example of generating a panel entirely through configuration.</p>
<pre class="language-"><code class="lang-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">IEditor</span></span><span class="token punctuation">.</span><span class="token function">panel</span><span class="token punctuation">(</span><span class="token string">&quot;Test&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyPanel</span> <span class="token keyword">extends</span> <span class="token class-name">IEditor</span><span class="token punctuation">.</span>EditorPanel <span class="token punctuation">{</span>
    <span class="token keyword">private</span> _data <span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
    <span class="token keyword">declare</span> _panel <span class="token operator">:</span> IEditor<span class="token punctuation">.</span>InspectorPanel<span class="token punctuation">;</span>
    <span class="token keyword">async</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_panel <span class="token operator">=</span> IEditor<span class="token punctuation">.</span>GUIUtils<span class="token punctuation">.</span><span class="token function">createInspectorPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Editor<span class="token punctuation">.</span>typeRegistry<span class="token punctuation">.</span><span class="token function">addTypes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                name<span class="token operator">:</span> <span class="token string">&quot;MyPanelType&quot;</span><span class="token punctuation">,</span> <span class="token comment">//Please note that the name is globally unique and must be long</span>
                properties <span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span> name <span class="token operator">:</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span> type <span class="token operator">:</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span> name <span class="token operator">:</span> <span class="token string">&quot;count&quot;</span> <span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&quot;number&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span> name <span class="token operator">:</span> <span class="token string">&quot;actions&quot;</span><span class="token punctuation">,</span> inspector<span class="token operator">:</span> <span class="token string">&quot;Buttons&quot;</span><span class="token punctuation">,</span>
                        options <span class="token operator">:</span> <span class="token punctuation">{</span> buttons <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> caption <span class="token operator">:</span> <span class="token string">&quot;Click me&quot;</span><span class="token punctuation">,</span> event<span class="token operator">:</span> <span class="token string">&quot;my_click&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
             <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>_panel<span class="token punctuation">.</span>allowUndo <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//Set as needed</span>
        <span class="token comment">//If you don&apos;t need the undo function, you can also directly this._data = {};</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_data <span class="token operator">=</span> IEditor<span class="token punctuation">.</span>DataWatcher<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//inspect can be called multiple times to combine multiple data in one panel for editing</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_panel<span class="token punctuation">.</span><span class="token function">inspect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_data<span class="token punctuation">,</span> <span class="token string">&quot;MyPanelType&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>_panel<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;my_click&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The execution effect is as follows:</p>
<p><img src="img/4-1.png" alt="4-1"></p>
<p>If you don&apos;t need the &apos;My Panel Type&apos; column at the top to be displayed, you can slightly modify the code and add the following red text:</p>
<pre class="language-"><code class="lang-typescript"><span class="token punctuation">{</span>
    name <span class="token operator">:</span> <span class="token string">&quot;MyPanelType&quot;</span><span class="token punctuation">,</span>
    catalogBarStyle<span class="token operator">:</span> <span class="token string">&quot;hidden&quot;</span><span class="token punctuation">,</span>
    properties <span class="token operator">:</span> <span class="token punctuation">[</span>
       <span class="token operator">...</span><span class="token punctuation">.</span>
    <span class="token punctuation">]</span>
 <span class="token punctuation">}</span>
</code></pre>
<p>The effect is as follows:</p>
<p><img src="img/4-2.png" alt="4-2"></p>
<p>The configuration method can generate very complex interfaces. It can not only be used to make a single panel, but can also be embedded into other UIs. For example, when making an interface in the UI editor, drag in the InspectorPanel prefab (it is placed in &quot;editor-widgets/baisc/Inspector/InspectorPanel.widget), and then the Widget object type obtained through getChild in the code is automatically IEditor.InspectorPanel , which can then be filled through the above-mentioned API (inspect, etc.).</p>
<blockquote>
<p>Please refer to <a href="../../../basics/common/Component/readme.html">Documentation</a> for type and attribute definition syntax.</p>
</blockquote>
<h2 id="5-customize-inspector-field-editing-interface"><a name="5-customize-inspector-field-editing-interface" class="anchor-navigation-ex-anchor" href="#5-customize-inspector-field-editing-interface"><i class="fa fa-link" aria-hidden="true"></i></a>5. Customize Inspector field editing interface</h2>
<p>When we write a component and expose certain fields to the IDE for editing, sometimes we want to be able to customize the editing interface of a certain field. We can do the following steps:</p>
<ol>
<li><p>Write an InspectorField</p>
<pre class="language-"><code class="lang-TypeScript">@IEditor.inspectorField(&quot;MyTestField&quot;)
export class TestField extends IEditor.PropertyField {
 @IEditor.onLoad
 static async onLoad() {
     await gui.UIPackage.resourceMgr.load(&quot;MyField.widget&quot;);
 }

 create() {
     let input = gui.UIPackage.createWidgetSync(&quot;MyField.widget&quot;);

     return { ui: input };
 }

 refresh() {
     //Here is responsible for setting the data to the interface
 }
}
</code></pre>
</li>
</ol>
<p>MyTestField is a registered name. In actual application, it is necessary to ensure that it does not conflict with the name given by others, so it is recommended to use a name like &quot;com.layabox.test&quot;.</p>
<p>The create method of InspectorField is synchronous, so createWidget cannot be used here, but createWidgetSync needs to be used. This requires ensuring that the prefab is loaded before creation. So an IEditor.onLoad callback is used here to load resources in advance.</p>
<ol>
<li><p>Set the inspector attribute of the field to the name you just took, here it is MyTestField</p>
<pre class="language-"><code class="lang-TypeScript">@Laya.regClass()
export class Script extends Laya.Script {
  @property({ type : Laya.Node, inspector: &quot;MyTestField&quot; })
  public node: Laya.Node;
}
</code></pre>
</li>
</ol>
<ol>
<li>Actual effect:</li>
</ol>
<p><img src="img/5-1.png" alt="5-1" style="zoom:50%;"></p>
<h2 id="6-customized-panel"><a name="6-customized-panel" class="anchor-navigation-ex-anchor" href="#6-customized-panel"><i class="fa fa-link" aria-hidden="true"></i></a>6. Customized panel</h2>
<p>You can add a panel to the editor in the following ways</p>
<pre class="language-"><code class="lang-TypeScript">@IEditor.panel(&quot;test&quot;, {
    title: &quot;Test&quot;,
    icon : &quot;editorResources/20230710-161955.png&quot;
})
export class TestPanel extends IEditor.EditorPanel {

    async create() {
        this._panel = await gui.UIPackage.createWidget(&quot;MyPanel.widget&quot;);
    }
}
</code></pre>
<p>The effect is as follows:</p>
<p><img src="img/6-1.png" alt="6-1" style="zoom:50%;"></p>
<h2 id="7-use-dialog-boxes"><a name="7-use-dialog-boxes" class="anchor-navigation-ex-anchor" href="#7-use-dialog-boxes"><i class="fa fa-link" aria-hidden="true"></i></a>7. Use dialog boxes</h2>
<p>A popup dialog can be created in the following ways:</p>
<pre class="language-"><code class="lang-TypeScript">//MyDialog.ts
export class MyDialog extends IEditor.Dialog {
    async create() {
        this.contentPane = await gui.UIPackage.createWidget(&quot;MyDialog.widget&quot;);
    }

    onShown() {
    }

    onHide() {
    }
}
</code></pre>
<p>Within the editor, all dialog boxes are singletons. The way to display this dialog box is:</p>
<pre class="language-"><code class="lang-TypeScript">import { MyDialog } from &quot;./MyDialog&quot;;

Editor.showDialog(MyDialog, null);
</code></pre>
<h2 id="8-expand-the-built-in-menu"><a name="8-expand-the-built-in-menu" class="anchor-navigation-ex-anchor" href="#8-expand-the-built-in-menu"><i class="fa fa-link" aria-hidden="true"></i></a>8. Expand the built-in menu</h2>
<p>Supports extensions to the editor&apos;s existing menus. As shown in the following code, a test menu is added under the Tools menu of the application menu bar, and clicking the menu will call the test function.</p>
<pre class="language-"><code class="lang-TypeScript">class AnyName {
    @IEditor.menu(&quot;App/tool/test&quot;)
    static test() {
        console.log(&quot;click menu&quot;);
    }
}
</code></pre>
<p>The first parameter of menu represents the path of the menu. The path is separated by &quot;/&quot;. &quot;App/tool/test&quot; represents the test sub-item of the tool submenu under the App menu. Note that the path here uses ID, not the text displayed in the menu. All menu names and their submenus supported by extensions within the editor can be printed for reference by the following method:</p>
<p><img src="img/8-1.png" alt="8-1" style="zoom:50%;"></p>
<p>The second parameter of the menu method is an optional parameter, through which some additional configuration can be performed. For example:</p>
<pre class="language-"><code class="lang-TypeScript">class AnyName {
    @IEditor.menu(&quot;App/tool/test&quot;, { position: &quot;before openDevTools&quot; } )
    static test() {
        console.log(&quot;click menu&quot;);
    }
}
</code></pre>
<p>Through the position option, you can set this newly added test menu to be displayed in front of the original menu &quot;Open Developer Tools - Editor&quot; instead of being added to the end by default.</p>
<p>Commonly used options are:</p>
<p><code>position</code>: Set the position of the menu, supported syntax: &quot;first&quot; / &quot;last&quot; / &quot;before ids&quot; / &quot;after ids&quot; / &quot;beforeGroup ids&quot; / &quot;afterGroup ids&quot;.</p>
<blockquote>
<p>The difference between &quot;before&quot; and &quot;beforeGroup&quot; is that &quot;before&quot; is inserted in front of the reference menu, while &quot;beforeGroup&quot; is inserted before the nearest dividing line in front of the reference menu.</p>
<p>The difference between &quot;after&quot; and &quot;afterGroup&quot; is that &quot;after&quot; is inserted after the reference menu, while &quot;afterGroup&quot; is inserted after the nearest dividing line behind the reference menu.</p>
<p>In the extension definition of the same class, it is added after the menu of the previous extension by default. If it is not in the same class and position is not specified, it will be added to the end of the menu by default.</p>
<p>ID values &#x200B;&#x200B;for multiple reference menus are separated by commas.</p>
</blockquote>
<p><code>checkbox</code>: Set the menu to a checkbox effect.</p>
<p><code>sepBefore</code> : Display a dividing line before this menu.</p>
<p><code>sepAfter</code>: Display a dividing line after this menu.</p>
<p><code>enableTest</code> : Given a function that returns a Boolean value, this function is executed before the menu is displayed and is used to determine the activation (grayed out) state of the menu. <strong>App menu is not supported. </strong></p>
<p><code>visibleTest</code>: Given a function that returns a Boolean value, this function will be executed before the menu is displayed to determine the visible or hidden state of the menu. Only the menu popped up by calling the show method is valid. <strong>App menu is not supported. </strong></p>
<p><code>checkedTest</code>: Given a function that returns a Boolean value, this function will be executed before the menu is displayed to determine the visible or hidden state of the menu. <strong>App menu is not supported. </strong></p>
<p>The following example demonstrates the use of enableTest. In this newly added menu, if there is no selected object in the scene, it will be grayed out and the click callback cannot be triggered.</p>
<pre class="language-"><code class="lang-TypeScript">class AnyName {
    static testEnable() {
        return Editor.secene.getSelection().length &gt; 0;
    }

    @IEditor.menu(&quot;Hierarchy/test&quot;, { enableTest: ()=&gt; AnyName.testEnable() } )
    static test() {
        console.log(&quot;click menu&quot;);
    }
}
</code></pre>
<h2 id="9-create-menu"><a name="9-create-menu" class="anchor-navigation-ex-anchor" href="#9-create-menu"><i class="fa fa-link" aria-hidden="true"></i></a>9. Create menu</h2>
<p>New menus can be created and their popups controlled with code. The method is:</p>
<pre class="language-"><code class="lang-TypeScript">let menu = IEditor.Menu.create([
    { label: &quot;test&quot; , click : function() { console.log(&quot;clicked&quot;); } }
 ]);

//When you need to pop up
menu.show();
</code></pre>
<p>The menu also supports cascading, and there is no limit to the number of levels. For example:</p>
<pre class="language-"><code class="lang-TypeScript">IEditor.Menu.create([
    {
        label: &quot;test&quot; ,
        submenu: [
            { label : &quot;a&quot; },
            {
                label : &quot;b&quot;,
                submenu : [
                    { label : &quot;c&quot; }
                ]
            }
        ]
    }
 ]);
</code></pre>
<p>You can assign an ID to the menu and reference the menu through the ID. But be careful that the ID value does not conflict with the ID of the editor&apos;s built-in menu or other people&apos;s menus.</p>
<pre class="language-"><code class="lang-TypeScript">IEditor.Menu.create(&quot;MyTestMenu&quot;, [
    { label: &quot;test&quot; , click : function() { console.log(&quot;clicked&quot;); } }
 ]);

 //When you need to pop up
 IEditor.Menu.getById(&quot;MyTestMenu&quot;).show();
</code></pre>
<h2 id="10-draw-shapes-and-interactive-handles-in-the-scene-view"><a name="10-draw-shapes-and-interactive-handles-in-the-scene-view" class="anchor-navigation-ex-anchor" href="#10-draw-shapes-and-interactive-handles-in-the-scene-view"><i class="fa fa-link" aria-hidden="true"></i></a>10. Draw shapes and interactive handles in the scene view</h2>
<p>Use the interface provided by IEditorEnv.Gizmos/IEditorEnv.Handles/IEditorEnv.Gizmos2D to draw shapes and interactive handles in the scene view. Assume that we already have a custom component Script1, and bind a CustomEditor script to Script1 through the IEditorEnv.customEditor decorator to achieve custom editing in the editor.</p>
<pre class="language-"><code class="lang-TypeScript">//Script1.ts

@regClass()
export class Script1 extends Laya.Script {
    declare owner : Laya.Sprite3D;
}
//TestCustomEditor.ts

@IEditorEnv.customEditor(Script1)
export class TestCustomEditor extends IEditorEnv.CustomEditor {
    declare owner: Laya.Sprite3D;

    onSceneGUI(): void {
        IEditorEnv.Handles.drawHemiSphere(this.owner.transform.position, 2);
    }

    onDrawGizmos(): void {
        IEditorEnv.Gizmos.drawIcon(this.owner.transform.position, &quot;editorResources/UI/ready1.png&quot;);
    }
}
</code></pre>
<p>The effect is as follows:</p>
<p><img src="img/10-1.png" alt="10-1"></p>
<p>The implementation of 2D is different, it must pass the IEditorEnv.Gizmos2D interface, and currently only supports onDrawGizmosSelected events, onDrawGizmos and onSceneGUI events are not supported.</p>
<p>Here&apos;s an example in 2D:</p>
<pre class="language-"><code class="lang-TypeScript">@IEditorEnv.customEditor(Script2)
export class TestCustomEditor extends IEditorEnv.CustomEditor {
    private _c: IEditorEnv.IGizmoCircle;

    onDrawGizmosSelected(): void {
        if (!this._c) {
            let manager = IEditorEnv.Gizmos2D.getManager(this.owner);
            this._c = manager.createCircle(10);
            this._c.fill(&quot;#ff0&quot;);
        }
        this._c.setLocalPos(10, 10);
    }
}
</code></pre>
<p>The effect is as follows:</p>
<p><img src="img/10-2.png" alt="10-2"></p>
<h2 id="11-custom-configuration"><a name="11-custom-configuration" class="anchor-navigation-ex-anchor" href="#11-custom-configuration"><i class="fa fa-link" aria-hidden="true"></i></a>11. Custom configuration</h2>
<p>Plug-in developers can customize some configuration data, which can be saved to files or only saved in memory. For example:</p>
<pre class="language-"><code class="lang-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">IEditor</span></span><span class="token punctuation">.</span>onLoad
<span class="token keyword">static</span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//Please note that the attributes here do not use types in the Laya engine, such as Vector3, which are not allowed.</span>
    Editor<span class="token punctuation">.</span>typeRegistry<span class="token punctuation">.</span><span class="token function">addTypes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">&quot;MyTestSettingsType&quot;</span><span class="token punctuation">,</span>
            properties<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    name<span class="token operator">:</span> <span class="token string">&quot;option1&quot;</span><span class="token punctuation">,</span>
                    type<span class="token operator">:</span> <span class="token string">&quot;boolean&quot;</span><span class="token punctuation">,</span>
                    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">true</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    name<span class="token operator">:</span> <span class="token string">&quot;option2&quot;</span><span class="token punctuation">,</span>
                    type<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
                    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Editor<span class="token punctuation">.</span>extensionManager<span class="token punctuation">.</span><span class="token function">createSettings</span><span class="token punctuation">(</span><span class="token string">&quot;MyTestSettings&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;project&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;MyTestSettingsType&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The first parameter of createSettings is the name of this configuration. It is global. Please choose a name that will not conflict with others. The second parameter is where the configuration data is placed. The optional values &#x200B;&#x200B;are:</p>
<ul>
<li><p>project: Save to the path &quot;project/settings&quot;. This is a shared location for configuration files shared by all members of the project. The saved file name is &quot;plugin-configuration name.json&quot;. The plugin prefix allows users to clearly identify that this is a configuration file created by a third-party plug-in.</p>
</li>
<li><p>ocal: Save to the path &quot;project/local&quot;. This is the IDE user&apos;s personalized setting for the project. The files here are generally not recommended for sharing among project members.</p>
</li>
<li>application: Save to the user data directory of the system. This is the IDE user&apos;s personalized setting for the IDE, and it should not be related to the specific project.</li>
<li>memory: only exists in memory and will not be saved to a file.</li>
</ul>
<p>The third parameter is the type name, corresponding to the addTypes operation above. The third parameter can also be omitted if the type name and configuration name are consistent.</p>
<p>After the configuration is created, the UI process can access the configuration data through Editor.getSettings and then read and write, for example:</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">let</span> data <span class="token operator">=</span> Editor<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token string">&quot;MyTestSettings&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>data<span class="token punctuation">;</span>
data<span class="token punctuation">.</span>option2 <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
</code></pre>
<p>Configurations are loaded and saved automatically, no manual operation is required.</p>
<p>The scene process can access the configuration data through EditorEnv.getSettings, but it is read-only and cannot be modified. And because it is cross-process, to get the latest data, sync must be called first, for example:</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">let</span> settings <span class="token operator">=</span> EditorEnv<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token string">&quot;MyTestSettings&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> settings<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>settings<span class="token punctuation">.</span>data<span class="token punctuation">.</span>option2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//hello</span>
</code></pre>
<h2 id="12-extended-editor-configuration-interface"><a name="12-extended-editor-configuration-interface" class="anchor-navigation-ex-anchor" href="#12-extended-editor-configuration-interface"><i class="fa fa-link" aria-hidden="true"></i></a>12. Extended editor configuration interface</h2>
<p>If we created some customized configuration data through the previous section, we can display it in the project configuration interface or the preference interface for users to modify. For example:</p>
<pre class="language-"><code class="lang-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">IEditor</span></span><span class="token punctuation">.</span><span class="token function">panel</span><span class="token punctuation">(</span><span class="token string">&quot;TestSettings&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> usage<span class="token operator">:</span> <span class="token string">&quot;project-settings&quot;</span><span class="token punctuation">,</span> title<span class="token operator">:</span> <span class="token string">&quot;&#x6D4B;&#x8BD5;&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">TestSettings</span> <span class="token keyword">extends</span> <span class="token class-name">IEditor</span><span class="token punctuation">.</span>EditorPanel <span class="token punctuation">{</span>
    <span class="token keyword">async</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> panel <span class="token operator">=</span> IEditor<span class="token punctuation">.</span>GUIUtils<span class="token punctuation">.</span><span class="token function">createInspectorPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        panel<span class="token punctuation">.</span><span class="token function">inspect</span><span class="token punctuation">(</span>Editor<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token string">&quot;MyTestSettings&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>data<span class="token punctuation">,</span> <span class="token string">&quot;MyTestSettings&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_panel <span class="token operator">=</span> panel<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The @IEditor.panel decorator has been introduced in &quot;6. Using the Panel&quot; and will not be repeated here. The only difference is the setting of the usage option. Possible values &#x200B;&#x200B;for usage are:</p>
<ul>
<li>project-settings: displayed in the project configuration interface</li>
<li>build-settings: displayed in the build release interface</li>
<li>preference: displayed in the preference interface</li>
</ul>
<p>The display effect of the above code is:</p>
<p><img src="img/12-1.png" alt="12-1" style="zoom:80%;"></p>
<h2 id="13-expand-the-build-process"><a name="13-expand-the-build-process" class="anchor-navigation-ex-anchor" href="#13-expand-the-build-process"><i class="fa fa-link" aria-hidden="true"></i></a>13. Expand the build process</h2>
<p>In addition to starting in the interface, the build process can also be called through API. The following example demonstrates starting a build task through a custom menu:</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">class</span> <span class="token class-name">Abc</span> <span class="token punctuation">{</span>
    IEditor<span class="token punctuation">.</span><span class="token function">menu</span><span class="token punctuation">(</span><span class="token string">&quot;App/my/build&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">static</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        IEditor<span class="token punctuation">.</span>BuildTask<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">&quot;web&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>You can also manually start the build task in the scene process:</p>
<pre class="language-"><code class="lang-typescript">IEditorEnv<span class="token punctuation">.</span>BuildTask<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">&quot;web&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Customize the plug-in process by building plug-ins. The interface for building plug-ins is IBuildTask. IBuildTask is defined as:</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IBuildPlugin</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * When the build task is initialized. Configurations such as config and platformConfig can be modified in this event.
     * @param task
     */</span>
    onSetup<span class="token operator">?</span><span class="token punctuation">(</span>task<span class="token operator">:</span> IBuildTask<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * The build task starts. You can initialize the structure of the target directory in this event, or perform necessary checks and installations, etc.
     * @param task
     */</span>
    onStart<span class="token operator">?</span><span class="token punctuation">(</span>task<span class="token operator">:</span> IBuildTask<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * Collecting resources that need to be released. The assets collection is all resource objects that need to be published that the system collects based on all valid rules such as dependencies and resources directory rules. You can add additional resource objects to the collection.
     * @param task
     * @param assets
     */</span>
    onCollectAssets<span class="token operator">?</span><span class="token punctuation">(</span>task<span class="token operator">:</span> IBuildTask<span class="token punctuation">,</span> assets<span class="token operator">:</span> Set<span class="token operator">&lt;</span>IAssetInfo<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * Exporting resources. exportInfoMap contains information about exported resources, including saving location and other information. The output location of the outPath custom resource can be modified.
     * @param task
     * @param exportInfoMap
     */</span>
    onBeforeExportAssets<span class="token operator">?</span><span class="token punctuation">(</span>task<span class="token operator">:</span> IBuildTask<span class="token punctuation">,</span> exportInfoMap<span class="token operator">:</span> Map<span class="token operator">&lt;</span>IAssetInfo<span class="token punctuation">,</span> IAssetExportInfo<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * Exporting resources is completed. If developers need to add their own files, or perform operations such as compression, they can be handled in this event.
     * @param task
     * @param exportInfoMap
     */</span>
    onAfterExportAssets<span class="token operator">?</span><span class="token punctuation">(</span>task<span class="token operator">:</span> IBuildTask<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * The build has been completed, some manifest files, configuration files, etc. can be generated in this event.
     */</span>
    onCreateManifest<span class="token operator">?</span><span class="token punctuation">(</span>task<span class="token operator">:</span> IBuildTask<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * If there is a native build process, handle it here.
     * @param task
     */</span>
    onCreatePackage<span class="token operator">?</span><span class="token punctuation">(</span>task<span class="token operator">:</span> IBuildTask<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * Build task completion event.
     * @param task
     */</span>
    onEnd<span class="token operator">?</span><span class="token punctuation">(</span>task<span class="token operator">:</span> IBuildTask<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>All hook functions are optional and the required logic can be implemented as needed. Plugins need to be registered through the IEditorEnv.regBuildPlugin decorator. The following example demonstrates how to manually add a resource to participate in the build when the web platform is built.</p>
<pre class="language-"><code class="lang-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">IEditorEnv</span></span><span class="token punctuation">.</span><span class="token function">regBuildPlugin</span><span class="token punctuation">(</span><span class="token string">&quot;web&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">MyBuildPlugin</span> <span class="token keyword">implements</span> <span class="token class-name">IEditorEnv</span><span class="token punctuation">.</span>IBuildPlugin <span class="token punctuation">{</span>
    <span class="token keyword">async</span> <span class="token function">onCollectAssets</span><span class="token punctuation">(</span>task <span class="token operator">:</span> IEditorEnv<span class="token punctuation">.</span>IBuildTask<span class="token punctuation">,</span> assets<span class="token operator">:</span> Set<span class="token operator">&lt;</span>IAssetInfo<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> myAsset <span class="token operator">=</span> <span class="token operator">...</span>
        assets<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>myAsset<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//In the publishing plug-in, you need to use task.logger to output logs</span>
        task<span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">&quot;add my asset&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>If you need to build the plug-in to take effect on all platforms, you can pass &quot;*&quot; as the first parameter of regBuildPlugin. The second parameter of regBuildPlugin can pass a priority value. The greater the priority, the earlier the plug-in will be called during build.</p>
<p>Some tools and methods often used in plug-ins include:</p>
<p>(1) Use the task.logger interface to record logs;</p>
<p>(2) Use IEditorEnv.utils.renderTemplateFile to render the template file, using the mustache library;</p>
<p>(3) Use task.mergeConfigFile to merge configuration files. That is, if there are json format configuration files with the same path and name in the built-in template directory and the project template directory (build-templates), they can be merged through this method;</p>
<p>(4) Use IEditorEnv.utils.intallCli to install some public cli packages, which will be installed under library/cli-package. For example:</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">await</span> IEditorEnv<span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">installCli</span><span class="token punctuation">(</span><span class="token string">&quot;@oppo-minigame/cli&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>(6) Use IEditorEnv.utils.exec to execute any local command.</p>
<p>(7) Use IEditorEnv.utils.downloadFile to download files.</p>
<p>(8) Use IEditorEnv.utils.ZipFileR to decompress the file.</p>
<p>You can extend the build options panel and add some custom parameters. As described in the &quot;Customize Panel&quot; section, we can set the usage of the panel to &quot;build-settings&quot;.</p>
<pre class="language-"><code class="lang-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">IEditor</span></span><span class="token punctuation">.</span><span class="token function">panel</span><span class="token punctuation">(</span><span class="token string">&quot;TestBuildSettings&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> usage<span class="token operator">:</span> <span class="token string">&quot;build-settings&quot;</span><span class="token punctuation">,</span> title<span class="token operator">:</span> <span class="token string">&quot;&#x6D4B;&#x8BD5;&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">TestBuildSettings</span> <span class="token keyword">extends</span> <span class="token class-name">IEditor</span><span class="token punctuation">.</span>EditorPanel <span class="token punctuation">{</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">IEditor</span></span><span class="token punctuation">.</span>onLoad
    <span class="token keyword">static</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Editor<span class="token punctuation">.</span>typeRegistry<span class="token punctuation">.</span><span class="token function">addTypes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                name<span class="token operator">:</span> <span class="token string">&quot;MyBuildSettings&quot;</span><span class="token punctuation">,</span>
                catalogBarStyle <span class="token operator">:</span> <span class="token string">&quot;hidden&quot;</span><span class="token punctuation">,</span>
                properties<span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        name<span class="token operator">:</span> <span class="token string">&quot;option1&quot;</span><span class="token punctuation">,</span>
                        type<span class="token operator">:</span> <span class="token string">&quot;boolean&quot;</span><span class="token punctuation">,</span>
                        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">true</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        name<span class="token operator">:</span> <span class="token string">&quot;option2&quot;</span><span class="token punctuation">,</span>
                        type<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
                        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&quot;2332&quot;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Editor<span class="token punctuation">.</span>extensionManager<span class="token punctuation">.</span><span class="token function">createSettings</span><span class="token punctuation">(</span><span class="token string">&quot;MyBuildSettings&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;project&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">async</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> panel <span class="token operator">=</span> IEditor<span class="token punctuation">.</span>GUIUtils<span class="token punctuation">.</span><span class="token function">createInspectorPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        panel<span class="token punctuation">.</span>allowUndo <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        panel<span class="token punctuation">.</span><span class="token function">inspect</span><span class="token punctuation">(</span>Editor<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token string">&quot;MyBuildSettings&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>data<span class="token punctuation">,</span> <span class="token string">&quot;MyBuildSettings&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_panel <span class="token operator">=</span> panel<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The effect is as follows:</p>
<p><img src="img/13-1.png" alt="13-1"></p>
<p>These parameters can be accessed through the Settings mechanism in the build plug-in, for example:</p>
<pre class="language-"><code class="lang-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">IEditorEnv</span></span><span class="token punctuation">.</span><span class="token function">regBuildPlugin</span><span class="token punctuation">(</span><span class="token string">&quot;web&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">MyBuildPlugin</span> <span class="token keyword">implements</span> <span class="token class-name">IEditorEnv</span><span class="token punctuation">.</span>IBuildPlugin <span class="token punctuation">{</span>
    <span class="token keyword">async</span> <span class="token function">onSetup</span><span class="token punctuation">(</span>task <span class="token operator">:</span> IEditorEnv<span class="token punctuation">.</span>IBuildTask<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> mySettings <span class="token operator">=</span> EditorEnv<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token string">&quot;MyBuildSettings&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> mySettings<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        task<span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span>mySettings<span class="token punctuation">.</span>data<span class="token punctuation">.</span>option1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="14-customize-publishing-target-platform"><a name="14-customize-publishing-target-platform" class="anchor-navigation-ex-anchor" href="#14-customize-publishing-target-platform"><i class="fa fa-link" aria-hidden="true"></i></a>14. Customize publishing target platform</h2>
<p>You can add a release target platform to the IDE through a plug-in. For example:</p>
<pre class="language-"><code class="lang-typescript">Editor<span class="token punctuation">.</span>extensionManager<span class="token punctuation">.</span><span class="token function">createBuildTarget</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token comment">//The unique id of the platform, no conflict</span>
<span class="token punctuation">{</span>
    caption<span class="token operator">:</span> <span class="token string">&quot;Customized platform&quot;</span><span class="token punctuation">,</span> <span class="token comment">//Target name</span>
    settingsName<span class="token operator">:</span><span class="token string">&quot;MyBuildPlatformtSettings&quot;</span><span class="token punctuation">,</span> <span class="token comment">//You need to register with Edition.extensionManager.createSettings first</span>
    inspector<span class="token operator">:</span> <span class="token string">&quot;TestBuildSettings&quot;</span> <span class="token comment">//A panel with usage build-settings</span>
    templatePath<span class="token operator">:</span> <span class="token string">&quot;editorResources/testTemplate&quot;</span> <span class="token comment">//An optional parameter. Place the build template file in the specified directory. It will be automatically copied to the output directory during the build.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Here is a complete example:</p>
<pre class="language-"><code class="lang-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">IEditor</span></span><span class="token punctuation">.</span><span class="token function">panel</span><span class="token punctuation">(</span><span class="token string">&quot;TestBuildSettings&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> usage<span class="token operator">:</span> <span class="token string">&quot;build-settings&quot;</span><span class="token punctuation">,</span> title<span class="token operator">:</span> <span class="token string">&quot;test&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">TestBuildSettings</span> <span class="token keyword">extends</span> <span class="token class-name">IEditor</span><span class="token punctuation">.</span>EditorPanel <span class="token punctuation">{</span>
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">IEditor</span></span><span class="token punctuation">.</span>onLoad
    <span class="token keyword">static</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Editor<span class="token punctuation">.</span>typeRegistry<span class="token punctuation">.</span><span class="token function">addTypes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                name<span class="token operator">:</span> <span class="token string">&quot;MyTestSettings2&quot;</span><span class="token punctuation">,</span>
                catalogBarStyle <span class="token operator">:</span> <span class="token string">&quot;hidden&quot;</span><span class="token punctuation">,</span>
                properties<span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        name<span class="token operator">:</span> <span class="token string">&quot;option1&quot;</span><span class="token punctuation">,</span>
                        type<span class="token operator">:</span> <span class="token string">&quot;boolean&quot;</span><span class="token punctuation">,</span>
                        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">true</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        name<span class="token operator">:</span> <span class="token string">&quot;option2&quot;</span><span class="token punctuation">,</span>
                        type<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
                        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&quot;2332&quot;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Editor<span class="token punctuation">.</span>extensionManager<span class="token punctuation">.</span><span class="token function">createSettings</span><span class="token punctuation">(</span><span class="token string">&quot;MyBuildPlatformtSettings&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;project&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Editor<span class="token punctuation">.</span>extensionManager<span class="token punctuation">.</span><span class="token function">createBuildTarget</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> caption<span class="token operator">:</span> <span class="token string">&quot;Customized platform&quot;</span><span class="token punctuation">,</span> settingsName<span class="token operator">:</span><span class="token string">&quot;MyTestSettings2&quot;</span><span class="token punctuation">,</span> inspector<span class="token operator">:</span> <span class="token string">&quot;TestBuildSettings&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">async</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> panel <span class="token operator">=</span> IEditor<span class="token punctuation">.</span>GUIUtils<span class="token punctuation">.</span><span class="token function">createInspectorPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        panel<span class="token punctuation">.</span>allowUndo <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        panel<span class="token punctuation">.</span><span class="token function">inspect</span><span class="token punctuation">(</span>Editor<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token string">&quot;MyBuildPlatformtSettings&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>data<span class="token punctuation">,</span> <span class="token string">&quot;MyBuildPlatformtSettings&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_panel <span class="token operator">=</span> panel<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The effect is as follows:</p>
<p><img src="img/14-1.png" alt="14-1"></p>
<p>During the scenario process, you need to add one or more build plugins for this new custom platform.</p>
<pre class="language-"><code class="lang-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">IEditorEnv</span></span><span class="token punctuation">.</span><span class="token function">regBuildPlugin</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">TestBuildPlugin</span> <span class="token keyword">implements</span> <span class="token class-name">IEditorEnv</span><span class="token punctuation">.</span>IBuildPlugin <span class="token punctuation">{</span>

    <span class="token keyword">async</span> <span class="token function">onCreatePackage</span><span class="token punctuation">(</span>task<span class="token operator">:</span> IEditorEnv<span class="token punctuation">.</span>IBuildTask<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//The platformConfig here corresponds to MyBuildPlatformtSettings. There is no need to getSettings by yourself.</span>
        task<span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span>platformConfig<span class="token punctuation">.</span>option2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>After the build is completed, if you need to support &quot;run&quot;, the build plug-in needs to define a runHandler. The following example demonstrates accessing the built content through the Web. The root directory of the Web site is the target directory of the build, so an empty string is passed in. If it is a subdirectory, the path to the subdirectory can be passed in.</p>
<pre class="language-"><code class="lang-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">IEditorEnv</span></span><span class="token punctuation">.</span><span class="token function">regBuildPlugin</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">TestBuildPlugin</span> <span class="token keyword">implements</span> <span class="token class-name">IEditorEnv</span><span class="token punctuation">.</span>IBuildPlugin <span class="token punctuation">{</span>

    <span class="token keyword">async</span> <span class="token function">onCreatePackage</span><span class="token punctuation">(</span>task<span class="token operator">:</span> IEditorEnv<span class="token punctuation">.</span>IBuildTask<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        task<span class="token punctuation">.</span>config<span class="token punctuation">.</span>runHandler <span class="token operator">=</span> <span class="token punctuation">{</span>
            serveRootPath <span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="15-resource-import-pre-processing-and-post-processing"><a name="15-resource-import-pre-processing-and-post-processing" class="anchor-navigation-ex-anchor" href="#15-resource-import-pre-processing-and-post-processing"><i class="fa fa-link" aria-hidden="true"></i></a>15. Resource import pre-processing and post-processing</h2>
<p>Sometimes we need to do some automated processing when importing resources, such as automatically setting it to an elf texture when importing a picture, setting a compression format, etc. In this case, we can use the IAssetProcessor interface. The interface is defined as follows:</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IAssetProcessor</span> <span class="token punctuation">{</span>
    <span class="token comment">//Called before image resources are imported</span>
    onPreprocessImage<span class="token operator">?</span><span class="token punctuation">(</span>assetImporter<span class="token operator">:</span> IImageAssetImporter<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">|</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token comment">//Called before any type of resource is imported</span>
    onPreprocessAsset<span class="token operator">?</span><span class="token punctuation">(</span>assetImporter<span class="token operator">:</span> IAssetImporter<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">|</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

    <span class="token comment">//Called after the image resource is imported</span>
    onPostprocessImage<span class="token operator">?</span><span class="token punctuation">(</span>assetImporter<span class="token operator">:</span> IImageAssetImporter<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">|</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token comment">//Called after any type of resource is imported</span>
    onPostprocessAsset<span class="token operator">?</span><span class="token punctuation">(</span>assetImporter<span class="token operator">:</span> IAssetImporter<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">|</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Classes that implement the IAssetProcessor interface need to be registered through the decorator IEditorEnv.regAssetProcessor. The following is a simple example of AssetProcessor, which sets all images that are not sprite textures to compressed format.</p>
<pre class="language-"><code class="lang-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">IEditorEnv</span></span><span class="token punctuation">.</span><span class="token function">regAssetProcessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">TestAssetProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">IEditorEnv</span><span class="token punctuation">.</span>IAssetProcessor <span class="token punctuation">{</span>
    <span class="token function">onPreprocessImage</span><span class="token punctuation">(</span>assetImporter<span class="token operator">:</span> IEditorEnv<span class="token punctuation">.</span>IImageAssetImporter<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">|</span> promise<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>assetImporter<span class="token punctuation">.</span>config<span class="token punctuation">.</span>textureType <span class="token operator">!=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            assetImporter<span class="token punctuation">.</span>config<span class="token punctuation">.</span>platformDefault <span class="token operator">=</span> <span class="token punctuation">{</span> format<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<blockquote>
<p>(1) You can use assetImporter.isNew to distinguish whether it is a newly added resource;</p>
<p>(2) After adding or modifying IAssetProcessor, the resource library does not automatically re-execute the script for existing resources. The user needs to use the right-click menu &quot;Reimport&quot; of the resource library. Of course, you can also re-import through the plug-in code: EditorEnv.assetMgr.importAsset(asset).</p>
</blockquote>
<h2 id="16-international-support"><a name="16-international-support" class="anchor-navigation-ex-anchor" href="#16-international-support"><i class="fa fa-link" aria-hidden="true"></i></a>16. International support</h2>
<p>Using the interface provided by LayaAirIDE, you can realize the internationalization of the plug-in interface and the internationalization of the information output in the plug-in code. First we need to create a new configuration file. If this configuration is used for interface internationalization, please create it in the directory where all your interface files are located or the upper-level directory.</p>
<p><img src="img/16-1.png" alt="16-1" style="zoom:50%;"></p>
<p><img src="img/16-2.png" alt="16-2" style="zoom:50%;"></p>
<p><strong>Identification</strong>: The unique identification of the international configuration file, automatically generated, cannot be modified (if you really want to modify it, you can open the configuration file in text mode and modify it directly, but you need to ensure it is unique. However, it has been bound on the interface after modification will be all lost).</p>
<p><strong>Scope of use:</strong> Runtime or editor extension. Runtime means it is used for games (not supported yet). Currently we choose the editor extension, which is used in the plug-in interface.</p>
<p><strong>Default Language ID</strong>: The text language used in interface design when making editor prefabs visually. For example, if you make the interface in Chinese, then here is zh-CN, if you make the interface in English, then here is en, and so on. If the language set here is consistent with the runtime language, the text on the interface will be used directly and the translation file will not be used for replacement.</p>
<p><strong>Fallback Language ID</strong>: If a translation file matching the runtime language cannot be found, the fallback language ID will be used to continue matching. For example, if the runtime language is German and there is no German (de) translation file in the translation file, the translation file with the fallback language ID (en) will be used.</p>
<p><strong>Translation Reference</strong>: Generally used to automatically collect text on the interface to form a reference file. Then use this reference file to translate into various languages, and then add it to the translation file list. The reference file does not need to be added to the translation file list because the text in the reference file is existing on the interface.</p>
<p><strong>Collect text:</strong> After clicking, all prefab files in the directory and subdirectories where the configuration file is located will be analyzed, all text that needs to be translated will be collected into reference files, and these texts will be converted into international formats. If the reference file is not set, one will be automatically generated.</p>
<p><strong>Synchronize</strong>: After re-collecting the text, click Synchronize to match the entries of all translation files with the reference files. For example, if a new text &quot;abc&quot; is created on the interface, after clicking to collect the text, an entry &quot;abc&quot; will be added to the reference file. After clicking sync, an entry &quot;abc&quot; will be added to all translation files.</p>
<p>In addition to automatically collecting text on the interface, we can also manually set it, such as the title of a button:</p>
<p><img src="img/16-3.png" alt="16-3" style="zoom:80%;"></p>
<p>Click the button in the upper right corner, and the interface will pop up:</p>
<p><img src="img/16-4.png" alt="16-4" style="zoom: 50%;"></p>
<p>Here you can select or create a new entry in the language file. After selecting an item, the input box updates to display:</p>
<p><img src="img/16-5.png" alt="16-5" style="zoom:50%;"></p>
<p>The green horizontal bar shows the key value of the translation file, indicating that the text has been internationalized.</p>
<p><strong>After the interface is internationalized, language adaptation is fully automatic without code intervention. </strong></p>
<p>In addition to interface internationalization, the information output by the code also needs to be internationalized. Usually we recommend using another configuration file, not to be confused with the configuration file used by the interface. Let&#x2019;s create a new internationalization configuration:</p>
<p><img src="img/16-6.png" alt="16-6" style="zoom:50%;"></p>
<p>Here you only need to manually create multiple translation files and drag them into the translation file list. The key values &#x200B;&#x200B;of these files need to be synchronized themselves.</p>
<p>The translation reference feature can be ignored as there is no need to collect it from the interface.</p>
<p><img src="img/16-7.png" alt="16-7"></p>
<p>The method used in the code is:</p>
<pre class="language-"><code class="lang-typescript">myI18n<span class="token operator">:</span> gui<span class="token punctuation">.</span>Translations<span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">IEditor</span></span><span class="token punctuation">.</span>onLoad
<span class="token keyword">async</span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    myI18n <span class="token operator">=</span> <span class="token keyword">await</span> gui<span class="token punctuation">.</span>UIPackage<span class="token punctuation">.</span>resourceMgr<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;editorResources/i18nSettings.i18ns&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myI18n<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>In many cases, if you only need a small amount of internationalization support in the code and don&apos;t want to create multiple json files, there is also a full-code method.</p>
<pre class="language-"><code class="lang-typescript"><span class="token comment">//The first parameter needs to be globally unique</span>
<span class="token keyword">let</span> myI18n <span class="token operator">=</span> gui<span class="token punctuation">.</span>Translations<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">&quot;LodSimplify&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myI18n<span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token string">&quot;zh-CN&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    meshRate<span class="token operator">:</span> <span class="token string">&quot;Model compression ratio&quot;</span><span class="token punctuation">,</span>
    meshRateTips<span class="token operator">:</span> <span class="token string">&quot;Compress the model mesh 2x according to the set ratio&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Editor<span class="token punctuation">.</span>typeRegistry<span class="token punctuation">.</span><span class="token function">addTypes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
<span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;LodSimplifyData&quot;</span><span class="token punctuation">,</span>
    properties<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">&quot;meshRate&quot;</span><span class="token punctuation">,</span>
            type <span class="token operator">:</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">,</span>
            caption<span class="token operator">:</span> myI18n<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;meshRate&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Mesh Rate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            tips<span class="token operator">:</span> myI18n<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;meshRateTips&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Compress the model mesh based on the set ratio.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
     <span class="token punctuation">]</span>
 <span class="token punctuation">}</span>
</code></pre>
<p>SetContent can be called multiple times to add translations in different languages. The following example adds translations for language en, so the default value can be omitted when applying the t function.</p>
<pre class="language-"><code class="lang-typescript"><span class="token comment">//The second parameter is the backup language ID. The default is en, so it can be omitted here.</span>
<span class="token keyword">let</span> myI18n <span class="token operator">=</span> gui<span class="token punctuation">.</span>Translations<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">&quot;LodSimplify&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myI18n<span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token string">&quot;zh-CN&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    meshRate<span class="token operator">:</span> <span class="token string">&quot;Model compression ratio&quot;</span><span class="token punctuation">,</span>
    meshRateTips<span class="token operator">:</span> <span class="token string">&quot;Compress the model mesh 2x according to the set ratio&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    meshRate<span class="token operator">:</span> <span class="token string">&quot;Mesh Rate2&quot;</span><span class="token punctuation">,</span>
    meshRateTips<span class="token operator">:</span> <span class="token string">&quot;Compress the model mesh based on the set ratio.&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Editor<span class="token punctuation">.</span>typeRegistry<span class="token punctuation">.</span><span class="token function">addTypes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
<span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;LodSimplifyData&quot;</span><span class="token punctuation">,</span>
    properties<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">&quot;meshRate&quot;</span><span class="token punctuation">,</span>
            type <span class="token operator">:</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">,</span>
            caption<span class="token operator">:</span> myI18n<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;meshRate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            tips<span class="token operator">:</span> myI18n<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;meshRateTips&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
     <span class="token punctuation">]</span>
 <span class="token punctuation">}</span>
</code></pre>
<h2 id="17-command-line-support"><a name="17-command-line-support" class="anchor-navigation-ex-anchor" href="#17-command-line-support"><i class="fa fa-link" aria-hidden="true"></i></a>17. Command line support</h2>
<p>You can start the editor in the terminal and execute the script in the background. The parameters are:</p>
<pre class="language-"><code>&gt; LayaAirIDE --project=/path/to/project --script=MyScript.buildWeb
</code></pre><p><strong>--project:</strong> project path</p>
<p><strong>--script:</strong> Specify the script to be executed</p>
<p>For example, using the following script, you can build a web platform using the command line. After the script is executed, the background process will automatically exit.</p>
<pre class="language-"><code class="lang-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">IEditorEnv</span></span><span class="token punctuation">.</span><span class="token function">regClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">MyScript</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token function">buildWeb</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> IEditorEnv<span class="token punctuation">.</span>BuildTask<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">&quot;web&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">waitForCompletion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<footer class="page-footer"><span class="copyright">Copyright &#xA9;Layabox 2022 all right reserved&#xFF0C;powered by <a href="https://layaAir.layabox.com/" target="_blank">LayaAir</a> Engine</span><span class="footer-modification">Update&#xFF1A;
2024-02-22 18:36:42
</span></footer>
<script>console.log("plugin-popup....");document.onclick = function(e){ e.target.tagName === "IMG" && window.open(e.target.src,e.target.src)}</script><style>img{cursor:pointer}</style>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../readme.html" class="navigation navigation-prev " aria-label="Previous page: layapackage">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../pluginImport/readme.html" class="navigation navigation-next " aria-label="Next page: Plugin Import">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"plug-in","level":"1.3.9.1","depth":3,"next":{"title":"Plugin Import","level":"1.3.9.2","depth":3,"path":"IDE/layapackage/pluginImport/readme.md","ref":"IDE/layapackage/pluginImport/readme.md","articles":[]},"previous":{"title":"layapackage","level":"1.3.9","depth":2,"path":"IDE/layapackage/readme.md","ref":"IDE/layapackage/readme.md","articles":[{"title":"plug-in","level":"1.3.9.1","depth":3,"path":"IDE/layapackage/plug-in/readme.md","ref":"IDE/layapackage/plug-in/readme.md","articles":[]},{"title":"Plugin Import","level":"1.3.9.2","depth":3,"path":"IDE/layapackage/pluginImport/readme.md","ref":"IDE/layapackage/pluginImport/readme.md","articles":[]},{"title":"Official Plugins","level":"1.3.9.3","depth":3,"path":"IDE/layapackage/Layabox/readme.md","ref":"IDE/layapackage/Layabox/readme.md","articles":[{"title":"LOD Reduction Plugin","level":"1.3.9.3.1","depth":4,"path":"IDE/layapackage/Layabox/LOD/readme.md","ref":"IDE/layapackage/Layabox/LOD/readme.md","articles":[]}]}]},"dir":"ltr"},"config":{"plugins":["expandable-chapters-small","sidebar-style","anchor-navigation-ex","-lunr","-search","-sharing","search-pro","versions-select","-favicon","favicon-absolute","fontsettings","prism","splitter","code","flexible-alerts","auto-scroll-table","popup","tbfed-pagefooter","-theme-hqbook"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"sidebar-style":{"author":"","title":""},"tbfed-pagefooter":{"copyright":"Copyright ©Layabox 2022","modify_label":"Update：","modify_format":"YYYY-MM-DD HH:mm:ss"},"prism":{"css":["prismjs/themes/prism-solarizedlight.css"],"lang":{"flow":"typescript"},"ignore":["mermaid","eval-js"]},"splitter":{},"search-pro":{},"auto-scroll-table":{},"popup":{},"code":{"copyButtons":true},"versions-select":{"type":"branches"},"favicon-absolute":{"appleTouchIconMore":{},"appleTouchIconPrecomposed152":"./style/layabox-152.png","appleTouchIconPrecomposedMore":{},"favicon":"./style/favicon-32.ico","bookmark":"./style/favicon-32.ico"},"fontsettings":{"family":"sans","size":2,"theme":"white"},"highlight":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":false,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":false},"expandable-chapters-small":{},"flexible-alerts":{"danger":{"className":"danger","icon":"fa fa-ban","label":"Attention"},"note":{"className":"info","icon":"fa fa-info-circle","label":"Note"},"style":"callout","tip":{"className":"tip","icon":"fa fa-lightbulb-o","label":"Tip"},"warning":{"className":"warning","icon":"fa fa-exclamation-triangle","label":"Warning"}},"versions":{"options":[{"value":"https://layaAir.com/3.1/doc/","text":"v3.1"}]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","style":{"website":"style/website.css"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"LayaAir3 Engine Documentation · LAYABOX","gitbook":"*"},"file":{"path":"IDE/layapackage/plug-in/readme.md","mtime":"2024-02-22T10:36:42.741Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2024-03-06T02:40:20.315Z"},"basePath":"../../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../../gitbook/gitbook.js"></script>
    <script src="../../../gitbook/theme.js"></script>
    
        
        <script src="../../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-sidebar-style/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-versions-select/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-flexible-alerts/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-auto-scroll-table/plugin.js"></script>
        
    

    </body>
</html>

